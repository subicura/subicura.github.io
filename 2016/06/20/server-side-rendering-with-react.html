<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <!-- (1) Optimize for mobile versions: http://goo.gl/EOpFl -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- (1) force latest IE rendering engine: bit.ly/1c8EiC9 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>왜 React와 서버 사이드 렌더링인가?</title>
  <meta name="description" content="홈쇼핑처럼 4번째 상품인 튀김을 기름에 튀기면서 React를 적용하느라 고생했던 순간이 떠올라 React와 서버 사이드 렌더링 적용과정을 정리해봅니다. 여기서는 어떻게보다는 왜에 대해 설명합니다." />

  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@subicura" />
    <meta name="twitter:title" content="왜 React와 서버 사이드 렌더링인가?" />
    <meta name="twitter:image" content="https://subicura.com/assets/images/df_logo.png" />
    
    <meta name="twitter:description"  content="홈쇼핑처럼 4번째 상품인 튀김을 기름에 튀기면서 React를 적용하느라 고생했던 순간이 떠올라 React와 서버 사이드 렌더링 적용과정을 정리해봅니다. 여기서는 어떻게보다는 왜에 대해 설명합니다." />
    
    
  
  
  <meta property="og:site_name" content="Subicura's Blog" />
  <meta property="og:title" content="왜 React와 서버 사이드 렌더링인가?"/>
  
  <meta property="og:description" content="홈쇼핑처럼 4번째 상품인 튀김을 기름에 튀기면서 React를 적용하느라 고생했던 순간이 떠올라 React와 서버 사이드 렌더링 적용과정을 정리해봅니다. 여기서는 어떻게보다는 왜에 대해 설명합니다." />
  
  <meta property="og:image" content="https://subicura.com/assets/images/df_logo.png" />
  <meta property="og:url" content="https://subicura.com/2016/06/20/server-side-rendering-with-react.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2016-06-20T00:00:00+09:00">

  <meta property="fb:app_id" content="1611862309129685" />

  <meta name="naver-site-verification" content="cc257cc7988ed85c9db6c228330b4870f9dfa25f" />

  <link rel="canonical" href="https://subicura.com/2016/06/20/server-side-rendering-with-react.html"/>
  <link rel="shortcut icon" href="/assets/images/favicon.png" type="image/png"/>
  <!-- <link rel="stylesheet" href="//brick.a.ssl.fastly.net/Linux+Libertine:400,400i,700,700i/Open+Sans:400,400i,700,700i" /> -->
  <!-- <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" /> -->

  <link rel="stylesheet" type="text/css" href="/css/main.css?1630458933687998000" />
  <link rel="stylesheet" type="text/css" href="/css/asciinema-player.css" />
  <link rel="stylesheet" type="text/css" href="/css/asciinema-theme-snazzy.css" />
  <link rel="stylesheet" type="text/css" href="/css/nerd-fonts-generated.css" />
  <link rel="stylesheet" type="text/css" href="/css/custom.css" />
  <!-- <link rel="stylesheet" type="text/css" media="print" href="/css/print.css" />-->
  
  <script src="/assets/js/webfont.js"></script>
  <script type="text/javascript">
    WebFont.load({
      custom: {
        families: ['Spoqa Han Sans'],
        urls: ['/css/spoqa-han-sans-font.css']
      }
    });
  </script>
  <script>
    var _mailChimpUrl = "http://eepurl.com/cywDtP";
  </script>

  
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  
</head>

  <body itemscope itemtype="http://schema.org/BlogPosting">
    <!-- header start -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43194822-1', 'auto');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v2.12&appId=1611862309129685";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>

<a href="https://subicura.com" class="logo-readium"><span class="logo" style="background-image: url(/assets/images/df_logo.png)"></span></a>
<!-- header end -->



    
      <a href="https://subicura.com/k8s/" target="_blank" class="top-banner">📔 쿠버네티스 안내서 →</a>



    

    <main class="content" role="main">
      <article class="post">
        <div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
          <meta itemprop="name" content="Subicura's Blog" />
          <meta itemprop="url" content="https://subicura.com" />
          <div itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop="url" content="https://subicura.com/assets/images/df_logo.png" />
          </div>
        </div>
        <div itemprop="image" itemscope itemtype="http://schema.org/ImageObject">
          <meta itemprop="url" content="https://subicura.com/assets/images/author.jpg" />
        </div>
        <meta itemprop="headline" content="왜 React와 서버 사이드 렌더링인가?" />
        <meta itemprop="mainEntityOfPage" content="/2016/06/20/server-side-rendering-with-react.html" />
        <meta itemprop="datePublished" content="2016-06-20 00:00:00 +0900" />
        <meta itemprop="dateModified" content="2017-01-21 10:00:00 +0900" />
        
        <div class="noarticleimage">
          <div class="post-meta">
            <h1 class="post-title">
              왜 React와 서버 사이드 렌더링인가?
              
            </h1>
            <div class="cf post-meta-text">
              <section class="share">
                <div class="fb-like" data-href="https://subicura.com/2016/06/20/server-side-rendering-with-react.html" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div>
                <a data-pocket-label="pocket" data-pocket-count="none" class="pocket-btn" data-lang="ko"></a>
                
                  
                    <a class="icon-twitter" href="http://twitter.com/share?text=%EC%99%9C+React%EC%99%80+%EC%84%9C%EB%B2%84+%EC%82%AC%EC%9D%B4%EB%93%9C+%EB%A0%8C%EB%8D%94%EB%A7%81%EC%9D%B8%EA%B0%80%3F&amp;url=https://subicura.com/2016/06/20/server-side-rendering-with-react.html"
                      onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
                      <i class="nf nf-fa-twitter"></i><span class="hidden">twitter</span>
                    </a>
                  
                
                  
                
              </section>
              <div class="author-info">
                <div class="author-image" style="background-image: url(/assets/images/author.jpg)">Blog Logo</div>
                <h4 class="author-name" itemprop="author" itemscope itemtype="http://schema.org/Person">
                  subicura<meta itemprop="name" content="subicura" /><meta itemprop="url" content="https://subicura.com/about" />
                </h4>
                on
                <time datetime="2016-06-20T00:00:00+09:00">20 Jun 2016</time>
              </div>
            </div>
          </div>
        </div>
        <br>
        <br>
        <br>
        
        <section class="post-content">
          <div class="post-reading">
            <span class="post-reading-time"></span> read
          </div>
          <a name="topofpage"></a>
          <ul id="toc" class="section-nav">
<li class="toc-entry toc-h3"><a href="#20161229-수정">2016/12/29 수정</a></li>
<li class="toc-entry toc-h2"><a href="#ajax가-없던-시절">ajax가 없던 시절</a></li>
<li class="toc-entry toc-h2"><a href="#ajax의-등장">ajax의 등장</a></li>
<li class="toc-entry toc-h2"><a href="#javascript-뷰-렌더링">Javascript 뷰 렌더링</a>
<ul>
<li class="toc-entry toc-h3"><a href="#string-concatenation">String concatenation</a></li>
<li class="toc-entry toc-h3"><a href="#template-engine">Template engine</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#framework">Framework</a></li>
<li class="toc-entry toc-h2"><a href="#angularjs">AngularJS</a></li>
<li class="toc-entry toc-h2"><a href="#reactjs">ReactJS</a></li>
<li class="toc-entry toc-h2"><a href="#isomorphic-javascript">Isomorphic Javascript</a></li>
<li class="toc-entry toc-h2"><a href="#react-서버-사이드-렌더링">React 서버 사이드 렌더링</a></li>
<li class="toc-entry toc-h2"><a href="#서버-사이드-렌더링-적용">서버 사이드 렌더링 적용</a></li>
<li class="toc-entry toc-h2"><a href="#그래서">그래서</a>
<ul>
<li class="toc-entry toc-h3"><a href="#주석">주석</a></li>
</ul>
</li>
</ul><h3 id="20161229-수정">
<a class="anchor" href="#20161229-%EC%88%98%EC%A0%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>2016/12/29 수정</h3>

<ul>
  <li>AngularJS의 단점으로 적었던 IE8지원은 React 또한 15.0.0에서 지원 중단되었습니다. ;ㅁ;</li>
  <li>AngularJS의 단점으로 적었던 비표준 태그는 data-* 형태로 대체 가능합니다.</li>
  <li>Angular v2 등장에 따른 v1 지원 중단 우려는 큰 문제는 없어보입니다. (최근 12/23일 업데이트)</li>
  <li>Angular2는 TypeScript가 메인이긴 하나 자바스크립트 또는 Dart로 작성가능합니다.</li>
</ul>

<hr>

<p><img src="https://subicura.com/assets/article_images/2016-06-20-server-side-rendering-with-react/fried_things.jpg" alt="튀김과불맛쌀떡볶이x홈쇼핑처럼"></p>

<p><a href="https://www.likehs.com">홈쇼핑처럼</a> 4번째 상품인 <a href="https://www.likehs.com/tvprogram/index/view/id/25/">튀김</a>을 기름에 튀기면서 <a href="https://facebook.github.io/react/">React</a>를 적용하느라 고생했던 순간이 떠올라 React와 서버 사이드 렌더링 적용과정을 정리해봅니다. 여기서는 <strong>어떻게</strong>보다는 <strong>왜</strong>에 대해 설명합니다.</p>

<p>현재 홈쇼핑처럼의 커머스 백엔드는 PHP로 만든 Magento를 사용하고 있고 프론트엔드는 일부 화면에서 React를 사용하고 있습니다. 웹서버에 v8js extention을 설치하여 서버 사이드 렌더링을 지원하고 있습니다. 그리고 홈쇼핑처럼에서 사용중인 채팅은 <a href="http://rubyonrails.org/">Rails</a>로 만든 별도의 서비스로 분리하여 운영하고 있고 관리자 페이지 프론트엔드는 역시 React에 <a href="https://github.com/cowboyd/therubyracer">therubyracer</a>라는 V8 javascript interpreter를 이용하여 서버 사이드 렌더링을 지원하고 있습니다. 이전에 작업했던 .NET 프로젝트에도 프론트엔드는 React에 <a href="http://reactjs.net/">ReactJS.NET</a>를 이용하여 서버 사이드 렌더링을 지원하였습니다.</p>

<p>백엔드는 프로젝트마다 달라도 프론트엔드는 React에 서버사이드 렌더링을 지원하는 방식으로 통일하고 있습니다. React가 뭐길래, 서버사이드 렌더링이 뭐가 좋길래 이런 결정을 한걸까요?</p>

<p>먼저, 자바스크립트를 이용한 웹 개발의 발전방향을 살펴봅니다.</p>

<div align="center" class="googleads googleads-content">
                <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2468713653725581" data-ad-slot="8649023787" data-ad-format="auto"></ins>
                <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
            </div>

<hr>

<h2 id="ajax가-없던-시절">
<a class="anchor" href="#ajax%EA%B0%80-%EC%97%86%EB%8D%98-%EC%8B%9C%EC%A0%88" aria-hidden="true"><span class="octicon octicon-link"></span></a>ajax가 없던 시절</h2>

<p>지금은 Javascript를 이용하여 동적인 웹페이지를 자연스럽게 만들고 있지만 10년전 <a href="https://en.wikipedia.org/wiki/Ajax_(programming)">ajax</a>가 등장하기 전에는 서버에서 전체 HTML을 만드는 방식이 일반적이였습니다.</p>

<noscript><pre>&lt;?php
$servername = "localhost";
$username = "username";
$password = "password";
$dbname = "myDB";

// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
} 

$sql = "SELECT id, firstname, lastname FROM MyGuests";
$result = $conn-&gt;query($sql);

if ($result-&gt;num_rows &gt; 0) {
    // output data of each row
    while($row = $result-&gt;fetch_assoc()) {
        echo "id: " . $row["id"]. " - Name: " . $row["firstname"]. " " . $row["lastname"]. "&lt;br&gt;";
    }
} else {
    echo "0 results";
}
$conn-&gt;close();
?&gt;</pre></noscript>
<script src="https://gist.github.com/subicura/427978fd79fa14e6cfd70644f6a5f4bd.js"> </script>

<p>조금 복잡해보이고 뷰에 여러가지 로직이 들어가 있지만 지금도 어디선가는 사용하고 있는 전통적인 개발 방식입니다. 이때까지만 해도 javascript는 일부 고오급 웹 개발자들이 사용하는 언어였고 웹페이지의 컨텐츠보다는 무언가를 꾸며주거나 화려한 느낌을 주는데 사용했습니다.</p>

<h2 id="ajax의-등장">
<a class="anchor" href="#ajax%EC%9D%98-%EB%93%B1%EC%9E%A5" aria-hidden="true"><span class="octicon octicon-link"></span></a>ajax의 등장</h2>

<p align="center">
<img src="https://subicura.com/assets/article_images/2016-06-20-server-side-rendering-with-react/google-auto-complete.png" alt="Google 추천검색어" title="Google 추천검색어">
</p>

<p>처음 ajax가 등장했을때 충격은 정말 엄청났습니다. Google의 추천 검색어 따라하기가 유행했는데 검색어 입력란에 <code class="language-plaintext highlighter-rouge">web</code>을 입력하면 추천 검색어가 실시간으로 보였습니다. 이게 정말 웹에서 가능하다니?!</p>

<p>그때는 Javascript의 J도 모르고 눈 내리는 소스를 복사 붙여넣기하며 좋아하던 시절이라 그 충격은 더 했습니다. 구글이 대중적으로 실시간 추천검색어 기능을 선보였고 곧 수많은 포털, 웹사이트에서 따라하기 시작합니다. 비슷한 시기에 <a href="http://prototypejs.org/">prototype.js</a>와 <a href="https://jquery.com/">jQuery</a>가 나왔고 웹 세계는 대 Javascript 시대를 맞이하게 됩니다.</p>

<p>Javascript 라이브러리를 안쓰는 페이지는 없었고 ajax를 이용한 동적인 컨텐츠 구성도 일반적으로 사용되기 시작했습니다. 하지만 제대로 된 표준이라던가 프레임워크는 없었고 이를 화면에서 표현하기 위해 다양한 방법이 등장합니다.</p>

<h2 id="javascript-뷰-렌더링">
<a class="anchor" href="#javascript-%EB%B7%B0-%EB%A0%8C%EB%8D%94%EB%A7%81" aria-hidden="true"><span class="octicon octicon-link"></span></a>Javascript 뷰 렌더링</h2>

<p>예전에 뷰는 서버 프로그램에 찰싹 달라붙어 있었지만 이제 Javascript를 이용하여 동적으로 HTML을 만드는 시대가 왔습니다. 동적으로 HTML을 만드는 방법을 하나씩 알아봅니다.</p>

<h3 id="string-concatenation">
<a class="anchor" href="#string-concatenation" aria-hidden="true"><span class="octicon octicon-link"></span></a>String concatenation</h3>

<noscript><pre>$('#profile').append('&lt;p&gt;' + data.name + '님 안녕하세요.&lt;/p&gt;');</pre></noscript>
<script src="https://gist.github.com/subicura/dc7630ef6346f5108e2c5fc789615387.js"> </script>

<p>가장 쉬운방법은 HTML을 string을 붙이고 붙이고 붙여서 특정 DOM에 넣는 것 입니다. 굉장히 심플하고 잘 동작합니다. 그런데 쓰다보니 몇가지 문제가 있습니다. <code class="language-plaintext highlighter-rouge">data.name</code>에 태그(<code class="language-plaintext highlighter-rouge">&lt;script&gt;</code>)가 들어갈 수 있어 XSS<sub>Cross-Site Scripting</sub> Injection에 노출되어 있습니다. 이를 보완한 좀더 복잡해진 예를 봅니다.</p>

<noscript><pre>var htmlString = '';
htmlString += '&lt;div&gt;';
htmlString += '  &lt;p&gt;' + data.name.replace('&lt;', '&amp;lt;').replace('&gt;', '&amp;gt;') + '&lt;/p&gt;';
if (data.image) {
  htmlString += '  &lt;p&gt;&lt;img src="' + data.image.replace('&lt;', '&amp;lt;').replace('&gt;', '&amp;gt;') + '"&gt;&lt;/p&gt;';
} else {
  htmlString += '  &lt;p&gt;&lt;img src="/images/avatar.jpg"&gt;&lt;/p&gt;';
}
htmlString += '&lt;/div&gt;';

$('#profile').append(htmlString);</pre></noscript>
<script src="https://gist.github.com/subicura/34bb24f334004572ddedc1b3162aaf56.js"> </script>

<p>음 점점 따옴표를 사용할때마다 신경이 곤두서고 동작은 하지만 뭐가 뭔지 모르게 되어 갑니다. 태그를 치환하는 부분을 실수로 빼먹기라도 하면 심각한 보안 문제가 발생할 수 있습니다. 뷰는 더 복잡해지고 상황은 더 심각해지고 HTML은 Javascript에 섞이며 퍼블리셔는 포기하고 우리는 더 많은 야근을 하게 됩니다.</p>

<h3 id="template-engine">
<a class="anchor" href="#template-engine" aria-hidden="true"><span class="octicon octicon-link"></span></a>Template engine</h3>

<p>이러한 상황을 해결하기 위해 각종 템플릿 엔진이 등장하기 시작합니다. 제가 가장 오랜시간 애용했던 <a href="http://olado.github.io/doT/index.html">doT.js</a>를 비롯해 twitter에서 만든 <a href="http://twitter.github.io/hogan.js/">hogan.js</a>, <a href="https://mustache.github.io/">mustach</a>, <a href="http://handlebarsjs.com/">handlebars</a>등등등등 너무너무너무 다양한 템플릿 엔진이 (지금도 계속해서) 등장합니다.</p>

<p><img src="https://subicura.com/assets/article_images/2016-06-20-server-side-rendering-with-react/template-engine.png" alt="template engine compile"></p>

<p>각각 라이브러리마다 파일 사이즈, 성능, 부가기능등의 차이가 있지만 하는 일은 동일합니다. 중괄호(<code class="language-plaintext highlighter-rouge">{ &gt; 콧수염 &gt; mustach</code>)를 이용하여 반복문, 조건문 등을 넣은 템플릿파일을 만들고 Data를 연동하여 HTML을 생성합니다. 이러한 방법은 string을 붙이고 붙이고 붙이는 방법보다 훨씬 나은 환경을 보여줍니다.</p>

<p>지금도 새로운 템플릿엔진이 계속해서 나오고 있고 동적으로 작은 view를 처리하거나 큰 프레임워크의 일부로 사용되고 있습니다.</p>

<h2 id="framework">
<a class="anchor" href="#framework" aria-hidden="true"><span class="octicon octicon-link"></span></a>Framework</h2>

<p>이러한 상황에서 javascript MVC(MV*?) framework들이 등장하게 됩니다. MVC? 왜???? 서버도 MVC로 짜기 바쁜데 왠 client side mvc?</p>

<p>웹환경은 점점 더 리치해지고 고객들은 점점 더 편하게 웹 사이트를 이용하려고 합니다. 지메일이나 구글 캘린더와 같은 서비스는 일반적인 방식으로는 거의 짜기가 불가능할 정도로 복잡해졌습니다.</p>

<p>이때, <a href="http://backbonejs.org/">Backbone.js</a>가 엄청나게 히트합니다. 템플릿과 모델, 이벤트를 분리하여 작업할 수 있게 도와주었고 미니멀한 구조와 빠른 속도, 이해하기 쉬운 코드로 많은 인기를 얻습니다. 심플해서 좋았지만 심플하다는건 기능이 부족했다는 뜻이고 부족한 기능을 보완하기위해 marionette과 같은 Backbone 플러그인이 등장하여 같이 인기를 얻습니다. 이전보다는 많이 진일보했지만 아직 <strong>프레임워크</strong>라고 부르기에는 기능이 조금 부족합니다.</p>

<p>Backbone.js가 인기를 끌기 시작할때 <strong>제대로 된</strong> 프론트엔드 프레임워크들이 등장합니다. <a href="http://emberjs.com/">Ember</a>, <a href="http://knockoutjs.com/">Knockout</a>등이 등장하였는데 예전부터 각자의 프로젝트에서 활용하고 있던 것들을 잘 정리하여 오픈소스로 공개하였습니다. 이러한 프레임워크들은 소스사이즈가 컸고 성능은 무겁고 기능은 복잡하고 러닝커브는 마구 올라갔습니다. 뭔가 좋아보이기는 하는데 쓰기엔 너무 무거워 보였고 굳이 프론트엔드를 MVC로 구성해야 하는 생각도 듭니다.</p>

<p>그때 끝판왕 AngularJS가 나타납니다.</p>

<h2 id="angularjs">
<a class="anchor" href="#angularjs" aria-hidden="true"><span class="octicon octicon-link"></span></a><a href="https://angularjs.org/">AngularJS</a>
</h2>

<p>AngularJS는 React를 돋보이게 하기 위함이니 좀더 상세하게 설명합니다.</p>

<p><img src="https://subicura.com/assets/article_images/2016-06-20-server-side-rendering-with-react/google-trend-angularjs.png" alt="Google Trends"></p>

<p>AngularJS는 기존의 라이브러리나 프레임워크들과는 다르게 DOM을 조작하거나 제어하는 방식에 초점을 맞추지 않고 데이터의 변화에 초점을 맞추는 완전히 새로운 접근법을 사용합니다. 데이터에 초점을 맞추는 이러한 방식자체는 완전히 새로운게 아니였으나 정말 <strong>잘</strong> 구현하여 사용하기 쉽게 공개한 겁니다. HTML에 작성해야 하는 코드는 조금 늘었지만 Javascript쪽 코드는 정말 놀라울정도로 단순해지고 저를 포함한 웹 프론트엔드 개발자들은 열광합니다.</p>

<p>AngularJS의 장점을 구체적으로 살펴봅니다.</p>

<noscript><pre>&lt;div ng-controller="myController"&gt;
  &lt;ul&gt;
    &lt;li ng-repeat="talk in talks"&gt;
      {{talk.name}}
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;

&lt;script&gt;
angular.module('myApp', [])  
  .controller('myController', function($scope) {
    $scope.talks = [{name:'Kim'}, {name:'Lee'}, {name:'Jung'}]
  });
&lt;/script&gt;</pre></noscript>
<script src="https://gist.github.com/subicura/1b2d30907d648357876834eddb205075.js"> </script>

<p><strong>개발속도가 빠름</strong></p>

<ul>
  <li>특별한 추가 코드 없이 변수 할당만으로 양방향 데이터 바인딩 지원. get/set 함수 필요없음</li>
  <li>별도의 템플릿 코드 분리 없이 뷰-데이터 연동. 기본 HTML이 곧 템플릿파일</li>
  <li>DI<sub>Dependency Injection</sub> 패턴사용. new같은 없고 그냥 인자로 넘기기만 하면됨</li>
  <li>모듈화가 잘되어 있어 재사용이 용이함</li>
  <li>플러그인이 엄청나게 많음</li>
</ul>

<p><strong>유지보수가 쉬움</strong></p>

<ul>
  <li>Javascript 코드량이 적음</li>
  <li>MVC 패턴이 잘 정리되어 있어 개발자간 코드가 비슷함</li>
  <li>Controller, Directive, Filter, Service 모듈 구분이 명확</li>
</ul>

<p><strong>테스트 코드 작성 용이</strong></p>

<ul>
  <li>모듈별 테스트 작성이 쉬움. 튜토리얼도 테스트코드부터 시작함</li>
  <li>데이터 로딩 시점이 비동기인 경우 E2E<sub>end-to-end</sub> 테스트가 까다로운 경우가 있는데 <a href="http://www.protractortest.org/">Protractor</a>를 사용하면 간단함</li>
</ul>

<p><strong>프로젝트 분리</strong></p>

<ul>
  <li>백엔드를 API서버로 사용하여 프론트엔드와 완전히 분리할 수 있음</li>
  <li>템플릿을 스크립트 태그나 Javascript에서 관리하지 않고 HTML을 그대로 사용하여 퍼블리셔 협업도 좋음</li>
</ul>

<p><strong>구글이 관리함</strong></p>

<ul>
  <li>오오, 구글에서 지메일, 캘린더 이런걸로 만드는건가??</li>
  <li>망하진 않겠다!</li>
</ul>

<p>장점이 어마어마 합니다. 그럼 단점을 알아볼까요?</p>

<p><strong>AngularJS의 단점</strong></p>

<ul>
  <li>속도가 느림. 특히 모바일</li>
  <li>IE8지원안함 <sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup>
</li>
  <li>러닝커브가 높음. 특히 Directive는 공부할수록 헬</li>
  <li>비표준 태그 사용의 찝찝함. (대부분의 브라우져가 잘 처리하긴 하지만서도..)</li>
  <li>페이지 깜빡임 이슈(<a href="https://en.wikipedia.org/wiki/Flash_of_unstyled_content">FOUC</a><sub>Flash of unstyled content</sub>) <sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup>
</li>
  <li>묘한 애니메이션 적용. 컨텐츠가 그려지는 시점을 정확하게 제어하기 어려워 애니메이션 적용이 쉽지 않음</li>
  <li>SEO 이슈. 크롤링 봇은 컨텐츠 로딩전 빈페이지만 바라봄. title, meta tag도 처음 페이지것만 바라봄 <sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup>
</li>
  <li>뒤로가기 하면 페이지 새로 로딩함. history API를 이용한 페이지 이동이 실제로는 페이지를 동적으로 로딩하는 구조. 스크롤도 최상단으로 이동 <sup id="fnref:4" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">4</a></sup>
</li>
  <li>외부 서비스 콜백처리
    <ul>
      <li>외부(페이스북, 구글, …) 로그인 후 돌아오는 페이지는 어떻게 처리하나?</li>
      <li>이메일 회원가입 확인 페이지는 어떻게 하나?</li>
      <li>결제 페이지 이동은 어떻게 하나?</li>
      <li>결국 백엔드쪽에 뷰 페이지를 만들어야 하나?</li>
    </ul>
  </li>
  <li>
<a href="https://angular.io/">Angular 2</a>와의 호환성
    <ul>
      <li>Angular 2는 완전히 다르다?!</li>
      <li>기존 1버전은 곧 지원 중단?!</li>
      <li>호환이 안된다? 업데이트가 안된다?!</li>
      <li>
<a href="https://www.typescriptlang.org/">TypeScript</a>만 지원한다? 그게 뭔데 ㅠ</li>
    </ul>
  </li>
  <li>
<del>구글도 자기 서비스에 안씀</del>
    <ul>
      <li>안쓰는 줄 알았는데 사용하고 있었네요 (강규현님 감사합니다)</li>
      <li><a href="https://www.madewithangular.com/#/categories/google">https://www.madewithangular.com/#/categories/google</a></li>
    </ul>
  </li>
</ul>

<p>엄청난 장점만큼 단점을 같이 보았는데 사실 대부분의 단점은 AngularJS의 단점이라기 보다는 <strong>웹앱</strong>의 단점입니다. AngularJS는 앱용 웹에 적합한 프레임워크입니다. 가만보니 공식사이트 메인에 <em>HTML enhanced for web apps!</em> 라고 적혀있습니다.</p>

<p>이런 사실을 무시하고 일반적인 서비스에 쓴적이 있습니다. 속도가 느린건 핸드폰이 빠르게 발전하면서 해결될거라 믿었고 위에 나열한 단점은 열심히 꼼수(?)로 해결할 수 있을것 같았습니다.</p>

<p>하지만, 결국 Angular 2가 공개되고 업데이트를 포기하게 됩니다. 여러가지 꼼수를 다시 적용하고 테스트하고 관리하기가 너무 힘들고 이미 이전 프로젝트도 꼼수로 인해 너덜너덜해진 상태입니다. 기술적으로 안되는건 없겠지만(<del>안되는 것도 있음</del>) 결국 유지보수와 호환성에 문제가 생깁니다. 웹앱이 아니라면 브라우저가 알아서 해주는 것들을 웹앱이기 때문에 여러가지 추가적인 셋팅이 필요하게 됩니다.</p>

<p>AngularJS는 좋지만, 웹앱용에 한정이고 성능이 크게 중요치 않은 어드민이나 내부서비스에 적합하다고 결론을 내립니다.</p>

<h2 id="reactjs">
<a class="anchor" href="#reactjs" aria-hidden="true"><span class="octicon octicon-link"></span></a><a href="https://facebook.github.io/react/">ReactJS</a>
</h2>

<p>끝판왕(<del>인줄알았던</del>) AngularJS말고 다른거 없나 찾고 있을때 거짓말처럼 페이스북에서 React를 발표합니다. React는 MVC프레임워크는 아니고 User Interface(View)를 만드는 라이브러리입니다. AngularJS처럼 MVC를 표방하는 것이 아니라 V(iew)에 집중하였고 훨씬 가벼웠습니다.</p>

<p><strong>React의 장점</strong></p>

<ul>
  <li>쉽다. API가 몇개 없다. 일단 시작하긴 쉽다.</li>
  <li>빠르다. 느린 DOM대신 Virtual DOM이라는 걸 이용.</li>
  <li>단순하다. 2-way 바인딩 대신 1-way를 지원하고 Component 구성하기 쉬움.</li>
  <li>서버 사이드 렌더링 지원이 좋음</li>
  <li>ES6지원 좋음</li>
  <li>일부페이지에 큰 수정없이 바로 적용할 수 있음</li>
</ul>

<p>사실 React는 갑자기 등장한 라이브러리가 아닙니다. 페이스북은 PHP를 사용하는 대표적인 회사로 PHP의 성능을 개선하기 위해 <a href="http://hacklang.org/">Hack</a>이라는 언어를 자체적으로 만들고 <a href="http://hhvm.com/">HHVM</a>이라는 가상머신도 만든 고오오오급 개발 회사입니다. 그리고 PHP의 문법을 변경하여 뷰 렌더링을 좀더 쉽게 한 <a href="http://facebook.github.io/xhp-lib/">XHP</a>를 2010년에 발표하기도 하였습니다.</p>

<noscript><pre>// php - string concatenation
$str = '&lt;ul&gt;';
foreach($talks as $talk) {
  $str += '&lt;li&gt;' . $talk-&gt;name . '&lt;/li&gt;';
}
$str = '&lt;/ul&gt;';

// xhp
$content = &lt;ul /&gt;;
foreach($talks as $talk) {
  $content-&gt;appendChild(&lt;li&gt;{$talk-&gt;name}&lt;/li&gt;);
}</pre></noscript>
<script src="https://gist.github.com/subicura/85b3d6f54af7be72df149463f7b142bb.js"> </script>

<p>간단한 XHP 코드 샘플을 보면 PHP변수에 HTML태그를 바로 할당하여 사용하는 걸 볼 수 있습니다. XSS 이슈를 방지해주고 커스텀 태그를 쓸 수 있어 코딩이 더 단순해지고 쉬워집니다.</p>

<p>태그를 바로 할당해서 사용할 수 있는 아이디어를 Javascript로 가져오기로 하고 2013년에 <a href="https://facebook.github.io/react/docs/jsx-in-depth.html">JSX</a>를 만듭니다. 여기에 Virtual DOM이라는 걸 도입하여 DOM을 직접 계산하지 않고 내부적으로 빠르게 diff를 계산하는 알고리즘을 만들어냅니다. 마치 git을 사용하듯이 변경된 부분만 샤샤샤 찾아주어 빠르게 화면을 렌더링 할 수 있게 해줍니다. 첫 알고리즘은 O(n<sup>3</sup>) 이였으나 결국 O(n)으로 완성합니다. ㄷㄷㄷ 게다가 React는 처음부터 서버 사이드 렌더링을 고려하여 설계합니다. 이런 짱짱맨..</p>

<p>서버 사이드 렌더링을 지원하므로 웹앱때문에 생기는 단점이 거의 없고 컴포넌트를 이용한 구조는 개발속도를 빠르게 하고 유지보수를 용이하게 도와줍니다. 그리고 이미 facebook, instagram, airbnb, netflix, flipboard, dropbox등에서 사용하고 있습니다. 운영 환경에 사용할 수 있는 <strong>현실적인 끝판왕</strong>이 등장했습니다.</p>

<p>전체 구조를 바꾸지 않더라도 적용하기 쉽기 때문에 진행중인 서비스에서 일부 동적 로직이 필요한 페이지에 React를 사용하고 서버 사이드 렌더링을 적용하기로 합니다.</p>

<h2 id="isomorphic-javascript">
<a class="anchor" href="#isomorphic-javascript" aria-hidden="true"><span class="octicon octicon-link"></span></a>Isomorphic Javascript</h2>

<p><img src="https://subicura.com/assets/article_images/2016-06-20-server-side-rendering-with-react/isomorphic-javascript.png" alt="Isomorphic Javascript"></p>

<p>동형 자바스크립트라는 어색한 말로 해석되는 Isomorphic Javascript는 서버와 클라이언트가 같은 코드를 사용한다는 뜻입니다. 웹브라우져에서만 동작할 것 같았던 Javascript가 <a href="https://developers.google.com/v8/">V8엔진</a>이 등장하고 <a href="https://nodejs.org/">Node.js</a>가 나타나면서 서버에서도 Javascript를 사용하기 시작합니다. 클라이언트에서 동작하던 라이브러리를 서버에서 똑같이 돌릴수 있게 됩니다.</p>

<p><img src="https://subicura.com/assets/article_images/2016-06-20-server-side-rendering-with-react/client-side-vs-server-side.png" alt="Client vs Server rendering from airbnb"></p>

<p><strong>서버 사이드 렌더링의 장점</strong></p>

<ul>
  <li>유저가 처음으로 컨텐츠를 보는 속도가 빨라짐</li>
  <li>서버따로 클라이언트따로 작성하던 코드가 하나로 합쳐짐</li>
  <li>SEO 적용도 OK</li>
  <li>웹앱의 단점 대부분 없어짐!</li>
</ul>

<h2 id="react-서버-사이드-렌더링">
<a class="anchor" href="#react-%EC%84%9C%EB%B2%84-%EC%82%AC%EC%9D%B4%EB%93%9C-%EB%A0%8C%EB%8D%94%EB%A7%81" aria-hidden="true"><span class="octicon octicon-link"></span></a>React 서버 사이드 렌더링</h2>

<p>React는 서버 사이드 렌더링을 염두에 두고 설계되었습니다.</p>

<p><a href="https://facebook.github.io/react/docs/top-level-api.html#reactdomserver.rendertostring"><code class="language-plaintext highlighter-rouge">ReactDOMServer.renderToString</code></a> 함수는 서버 사이드에서 사용하는 렌더링 함수입니다. 이 함수는 HTML을 생성하는데 클라이언트에서 동적으로 생성하는 것과 동일한 HTML을 생성합니다. 다른점은 <code class="language-plaintext highlighter-rouge">data-react-checksum</code>과 같은 attribute가 추가되었다는 점입니다.</p>

<p>서버 사이드에서 생성된 HTML에는 이벤트 속성이 없기 때문에 반드시 <code class="language-plaintext highlighter-rouge">ReactDOM.render()</code>과 같은 클라이언트 사이드 렌더링을 다시 한번 수행해야 합니다.</p>

<noscript><pre>&lt;html&gt;
&lt;head&gt;....&lt;/head&gt;
&lt;body&gt;
  &lt;div id="talkList"&gt;&lt;%= React.renderComponentToString(&lt;TalkView /&gt;); %&gt;&lt;/div&gt;
  
  &lt;script&gt;
    // attach event
    React.renderComponent(&lt;TalkView /&gt;, document.getElementById('talkList'));
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></noscript>
<script src="https://gist.github.com/subicura/6e9c87c3395f599a80da8e21ebbed822.js"> </script>

<p><strong>두번 렌더링한다구요?</strong> 네.</p>

<p>두번째 렌더링을 할때 이미 서버 사이드 렌더링이 되어 있다면 attribute값을 보고 다시 렌더링 하지 않고 생성된 DOM에 오직 이벤트 속성만 추가합니다. checksum을 보고 판단하기 때문에 속도가 굉장히 빠릅니다.</p>

<p>이러한 부분이 이미 React는 서버 사이드 렌더링을 염두에 두고 설계되었다는 점입니다.</p>

<h2 id="서버-사이드-렌더링-적용">
<a class="anchor" href="#%EC%84%9C%EB%B2%84-%EC%82%AC%EC%9D%B4%EB%93%9C-%EB%A0%8C%EB%8D%94%EB%A7%81-%EC%A0%81%EC%9A%A9" aria-hidden="true"><span class="octicon octicon-link"></span></a>서버 사이드 렌더링 적용</h2>

<p>그럼 실제로 서버 사이드 렌더링을 사용하려면 어떻게 해야 할까요?</p>

<p><strong>1. 서버가 Node.js일때</strong></p>

<p><img src="https://subicura.com/assets/article_images/2016-06-20-server-side-rendering-with-react/isomorphic-js-node-only.png" alt="Node.js server"></p>

<p>서버가 Node.js일 경우 바로 React 코드를 실행할 수 있습니다. 그냥 <code class="language-plaintext highlighter-rouge">renderToString</code> method를 실행하여 view에 그리면 됩니다. 와우!</p>

<p><strong>2. V8엔진 라이브러리를 사용</strong></p>

<p><img src="https://subicura.com/assets/article_images/2016-06-20-server-side-rendering-with-react/isomorphic-js-v8.png" alt="Use V8 engine"></p>

<p>서버가 Node.js가 아닐 경우 각 언어에서 제공하는 V8 engine을 사용할 수 있습니다.</p>

<ol>
  <li>V8 engine을 만들고</li>
  <li>React와 Component 소스를 전부 입력하여 컴파일을 한 뒤</li>
  <li>Data를 인자로 실행하여 HTML 얻음</li>
</ol>

<p>서버에 V8 engine만 설치되어 있다면 비교적 쉽게 구현할 수 있습니다. 특히 <a href="https://github.com/reactjs/react-rails">react-rails</a>, <a href="https://github.com/reactjs/react-php-v8js">React-PHP-V8Js</a>, <a href="https://github.com/reactjs/React.NET">React.NET</a>는 React에서 직접 관리하는 라이브러리로 바로 사용할 수 있습니다.</p>

<p><strong>3. 별도의 Node.js 서버 구축</strong></p>

<p><img src="https://subicura.com/assets/article_images/2016-06-20-server-side-rendering-with-react/isomorphic-js-node-backend.png" alt="Node.js render server"></p>

<p>React 코드만 실행하고 렌더링하는 별도의 Node.js 서버를 띄우는 방법입니다.</p>

<ol>
  <li>원래 웹서버로 요청이 들어오면</li>
  <li>다시 Node.js 서버로 렌더링을 위한 정보(module, props JSON)를 HTTP request하고</li>
  <li>Node.js 서버에서는 renderToString한 결과 string을 HTTP response</li>
</ol>

<p>서버를 하나 더 관리해야 하는 번거로움과 HTTP 통신으로 인한 overhead가 발생하여 좋지 않은 방법이라고 생각하는데 의외로 사용하는 곳이 많은 것 같습니다. Airbnb에서 만든 <a href="https://github.com/airbnb/hypernova">hypernova</a>를 이용하면  Express.js등을 사용할 필요 없이 렌더링 전용 서버를 구축할 수 있습니다.</p>

<p><strong>4. 기존 서버가 API 구성하기 용이할때</strong></p>

<p><img src="https://subicura.com/assets/article_images/2016-06-20-server-side-rendering-with-react/isomorphic-js-node-front.png" alt="Node.js frontend server"></p>

<p>기존 서버가 API를 잘 제공하고 있다면 앞단에 Node.js를 두고 기존 서버를 API서버로 사용하는 방법이 있습니다. 이럴 경우 쿠키라던가 인증 토큰등을 추가로 관리하고 라우팅을 다시 셋팅해야 합니다.</p>

<h2 id="그래서">
<a class="anchor" href="#%EA%B7%B8%EB%9E%98%EC%84%9C" aria-hidden="true"><span class="octicon octicon-link"></span></a>그래서</h2>

<p>현재 React를 즐겨 사용하고 있긴 하지만, 사실 언제 또 바뀔지 모릅니다. 최근에는 <a href="https://www.meteor.com/">meteor</a>라는 걸출한 Javascript App Platform이 나와서 인기를 얻고 있습니다. 빠르게 변하는 웹환경만큼 새로운 라이브러리, 프레임워크도 계속해서 나옵니다. 왜 프론트엔드 개발자는 끊임없이 공부해야 하는가? 대체 언제 좀 편하게 예전에 배웠던거 슬렁슬렁 쓰면서 개발할 수 있을까? 라는 질문을 해보지만, 포기하고 적당히 하는 순간 빠르게 변하는 웹 세계에서 뒤쳐진다고 생각합니다.</p>

<p>하지만, 공부하는 것과 운영환경에 적용하는 것은 다른 이야기로 React가 쉽고 간단한 라이브러리인 것처럼 묘사했지만 redux가 들어가고 좀 더 리치하게 사용하려고 하면 결코 쉽지 않다는걸 알게 됩니다. 그리고 많이 빨라졌다고 하지만 역시 라이브러리는 무겁고 아직 모바일 환경에서는 느릴 수 밖에 없습니다.</p>

<p>결론적으로, 무조건 새로운 기술을 도입하는 것 보다는 정말 필요한지 고려해보고 도입하는 것이 중요합니다. 그리고 모든 페이지에 적용하려고 하지 말고 정말 필요한 일부 페이지에 적용하는 것이 속도면에서나 유지보수면에서나 호환성면에서 나은 결과를 보여줍니다. 1-2년이 지나면 결국 또 바뀌게 됩니다. 누가, 어떻게 업데이트 합니까?</p>

<p>아무쪼록 React는 좀 오래가길 빌면서, 이번에 출시한 튀김 맛있으니 서비스에 관심있으신분은 <a href="https://www.likehs.com/">https://www.likehs.com/</a> 에 방문해 주시구요.
개발자 상시 모집중입니다. 연락주세요 ㅎㅎ (<a href="http://www.purpleworks.co.kr/recruit">http://www.purpleworks.co.kr/recruit</a>)</p>

<hr>

<h3 id="주석">
<a class="anchor" href="#%EC%A3%BC%EC%84%9D" aria-hidden="true"><span class="octicon octicon-link"></span></a>주석</h3>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p><a href="https://github.com/fergaldoyle/angular.js-ie8-builds">angular.js-ie8-build</a>를 이용하면 IE8에서도 돌긴돔 <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p><a href="https://docs.angularjs.org/api/ng/directive/ngCloak">ng-cloak</a>으로 어느정도 극복가능 <a href="#fnref:2" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
    <li id="fn:3" role="doc-endnote">
      <p><a href="https://prerender.io/">prerender</a>를 이용하면 어느정도 극복가능. meta tag 업데이트도 디렉티브를 만들면 됨 <a href="#fnref:3" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
    <li id="fn:4" role="doc-endnote">
      <p>스크롤 위치를 기억했다가 뒤로가기라고 인지되면 다시 강제로 이동시켜주는 방법 있음 <a href="#fnref:4" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
  </ol>
</div>

          <p class="tags">
            
              <a href="/tags#frontend-ref">FrontEnd</a>
            
              <a href="/tags#javascript-ref">Javascript</a>
            
              <a href="/tags#react-ref">React</a>
            
              <a href="/tags#angular-ref">Angular</a>
            
          </p>
        </section>
        <footer class="post-footer">
          <section class="share">
            <div class="fb-like" data-href="https://subicura.com/2016/06/20/server-side-rendering-with-react.html" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div>
            <a data-pocket-label="pocket" data-pocket-count="none" class="pocket-btn" data-lang="ko"></a>
            
              
                <a class="icon-twitter" href="http://twitter.com/share?text=%EC%99%9C+React%EC%99%80+%EC%84%9C%EB%B2%84+%EC%82%AC%EC%9D%B4%EB%93%9C+%EB%A0%8C%EB%8D%94%EB%A7%81%EC%9D%B8%EA%B0%80%3F&amp;url=https://subicura.com/2016/06/20/server-side-rendering-with-react"
                  onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
                <i class="nf nf-fa-twitter"></i><span class="hidden">twitter</span>
                </a>
              
            
              
            
          </section>
        </footer>
        <div class="bottom-teaser cf">
          <div class="isLeft">
            <h5 class="index-headline featured"><span>Written by</span></h5>
            <section class="author">
              <div class="author-image" style="background-image: url(/assets/images/author.jpg)">Blog Logo</div>
              <h4>subicura</h4>
              <p class="bio"></p>
              <hr>
              <p class="published">Published <time datetime="2016-06-20 00:00">20 Jun 2016</time></p>
            </section>
            <footer class="subscribe-info">
                <section class="poweredby">Proudly published with <a href="http://jekyllrb.com"> Jekyll</a></section>
                <a class="subscribe" href="http://bit.ly/2A8Dkav"  target="blank"><img id='feedlyFollow' src='//s3.feedly.com/img/follows/feedly-follow-logo-black_2x.png' alt='follow us in feedly' width='18' height='18'> Feedly 구독하기</a><br />
                <a class="subscribe" href="/feed.xml"> <span class="tooltip"> <i class="nf nf-fa-rss"></i> RSS 구독하기</span></a><br />
                 
                  <a class="subscribe" href="http://eepurl.com/cywDtP" target="_blank"> <span class="tooltip"> <i class="nf nf-oct-mail"></i> Email 구독하기</span></a>
                
            </footer>
          </div>

          <div class="isRight">
            <h5 class="index-headline featured"><span>Supported by</span></h5>
            <div class="googleads">
              
                <!-- 기본 광고 -->
                <ins class="adsbygoogle"
                    style="display:block"
                    data-ad-client="ca-pub-2468713653725581"
                    data-ad-slot="1015072194"
                    data-ad-format="auto"></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
              
            </div>
          </div>
        </div>

        

         
        <div class="fb-comments-wrapper">
           
            <div class="fb-comments" data-href="http://subicura.com/2016/06/20/server-side-rendering-with-react.html" data-num-posts="5" data-order-by="social" data-width="100%"></div>
          
        </div>
        

        
      </article>
    </main>

    <aside class="read-next">
      
        <a class="read-next-story no-cover" href="/2016/07/11/coding-convention.html">
          <section class="post">
            <h2>linter를 이용한 코딩스타일과 에러 체크하기</h2>
            <p>홈쇼핑처럼 6번째 상품인 까르보돈까스는 부먹과 찍먹을 선택해야 합니다. 코딩도 둘중에 하나를 선택해야 하는 경우가 많은데...</p>
          </section>
        </a>
      
      
        <a class="read-next-story prev no-cover" href="/2016/06/13/start-go-shipment-tracking-opensource.html">
          <section class="post">
            <h2>Go언어로 오픈소스 배송조회 서비스 만들기</h2>
            <p>홈쇼핑처럼에서 세번째로 런칭한 돈까스를 구매해 주시는 분들을 보면서 *아.. 받은 만큼 나도 뭔가 베풀어야겠구나* 라는...</p>
          </section>
        </a>
      
    </aside>
    <footer class="post-site-footer clearfix">
      <section class="copyright"><a href="/">Subicura's Blog</a> © 2021</section>
    </footer>

    <script type="text/javascript" src="/assets/js/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/assets/js/index.js?1630458933687998000"></script>
<script type="text/javascript" src="/assets/js/readingtime.js"></script>
<script type="text/javascript" src="/assets/js/asciinema-player.js"></script>
<script>
(function ($) {
  "use strict";
  $(document).ready(function(){

    var $window = $(window),
    $image = $('.post-image-image, .teaserimage-image');

      $window.on('scroll', function() {
        var top = $window.scrollTop();

        if (top < 0 || top > 1500) { return; }
        $image
          .css('transform', 'translate3d(0px, '+top/3+'px, 0px)')
          .css('opacity', 1-Math.max(top/700, 0));
      });
      $window.trigger('scroll');

      var height = $('.article-image').height();
      $('.post-content').css('padding-top', height + 'px');

      $('a[href*=#]:not([href=#])').click(function() {
        if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
         && location.hostname == this.hostname) {
          var target = $(this.hash);
          target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
          if (target.length) {
            $('html,body').animate({ scrollTop: target.offset().top }, 500);
            return false;
          }
        }
      });

  });
}(jQuery));
</script>

  </body>
</html>
