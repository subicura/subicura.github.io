<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <!-- (1) Optimize for mobile versions: http://goo.gl/EOpFl -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- (1) force latest IE rendering engine: bit.ly/1c8EiC9 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Docker SwarmÏùÑ Ïù¥Ïö©Ìïú ÏâΩÍ≥† Îπ†Î•∏ Î∂ÑÏÇ∞ ÏÑúÎ≤Ñ Í¥ÄÎ¶¨</title>
  <meta name="description" content="ÎèÑÏª§ Ïä§ÏõúÏùÄ Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò Ìà¥ÏùÄ Í¥ÄÎ¶¨Í∞Ä Ïñ¥Î†µÍ≥† ÏÇ¨Ïö©ÌïòÍ∏∞ Î≥µÏû°ÌïòÎã§Îäî Ìé∏Í≤¨ÏùÑ ÏôÑÏ†ÑÌûà Î∞îÍøîÎÜìÏïòÏäµÎãàÎã§. Íµ¨Ï∂ï ÎπÑÏö©Ïù¥ Í±∞Ïùò Îì§ÏßÄ ÏïäÍ≥† Í¥ÄÎ¶¨ ÎòêÌïú Ïâ¨Ïö∞Î©∞ Îã§ÏñëÌïú Í∏∞Îä•ÏùÑ ÏâΩÍ≤å Ï†úÍ≥µÌïòÍ≥† Í∞ÄÎ≥çÍ≤å ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§. ÎèÑÏª§ Ïä§ÏõúÏùò ÌïµÏã¨ÎÇ¥Ïö©Ïù∏ ÎÖ∏ÎìúÏôÄ ÏÑúÎπÑÏä§Ïóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥Í≥† ingress ÎÑ§Ìä∏ÏõåÌÅ¨ÏôÄ ÏûêÏ≤¥ ÎÇ¥Ïû•Îêú Î°úÎìúÎ∞∏Îü∞ÏÑú, DNS ÏÑúÎ≤ÑÎ•º ÏÇ¥Ìé¥Î¥ÖÎãàÎã§." />

  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@subicura" />
    <meta name="twitter:title" content="Docker SwarmÏùÑ Ïù¥Ïö©Ìïú ÏâΩÍ≥† Îπ†Î•∏ Î∂ÑÏÇ∞ ÏÑúÎ≤Ñ Í¥ÄÎ¶¨" />
    <meta name="twitter:image" content="https://subicura.com/assets/images/df_logo.png" />
    
    <meta name="twitter:description"  content="ÎèÑÏª§ Ïä§ÏõúÏùÄ Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò Ìà¥ÏùÄ Í¥ÄÎ¶¨Í∞Ä Ïñ¥Î†µÍ≥† ÏÇ¨Ïö©ÌïòÍ∏∞ Î≥µÏû°ÌïòÎã§Îäî Ìé∏Í≤¨ÏùÑ ÏôÑÏ†ÑÌûà Î∞îÍøîÎÜìÏïòÏäµÎãàÎã§. Íµ¨Ï∂ï ÎπÑÏö©Ïù¥ Í±∞Ïùò Îì§ÏßÄ ÏïäÍ≥† Í¥ÄÎ¶¨ ÎòêÌïú Ïâ¨Ïö∞Î©∞ Îã§ÏñëÌïú Í∏∞Îä•ÏùÑ ÏâΩÍ≤å Ï†úÍ≥µÌïòÍ≥† Í∞ÄÎ≥çÍ≤å ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§. ÎèÑÏª§ Ïä§ÏõúÏùò ÌïµÏã¨ÎÇ¥Ïö©Ïù∏ ÎÖ∏ÎìúÏôÄ ÏÑúÎπÑÏä§Ïóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥Í≥† ingress ÎÑ§Ìä∏ÏõåÌÅ¨ÏôÄ ÏûêÏ≤¥ ÎÇ¥Ïû•Îêú Î°úÎìúÎ∞∏Îü∞ÏÑú, DNS ÏÑúÎ≤ÑÎ•º ÏÇ¥Ìé¥Î¥ÖÎãàÎã§." />
    
    
  
  
  <meta property="og:site_name" content="Subicura's Blog" />
  <meta property="og:title" content="Docker SwarmÏùÑ Ïù¥Ïö©Ìïú ÏâΩÍ≥† Îπ†Î•∏ Î∂ÑÏÇ∞ ÏÑúÎ≤Ñ Í¥ÄÎ¶¨"/>
  
  <meta property="og:description" content="ÎèÑÏª§ Ïä§ÏõúÏùÄ Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò Ìà¥ÏùÄ Í¥ÄÎ¶¨Í∞Ä Ïñ¥Î†µÍ≥† ÏÇ¨Ïö©ÌïòÍ∏∞ Î≥µÏû°ÌïòÎã§Îäî Ìé∏Í≤¨ÏùÑ ÏôÑÏ†ÑÌûà Î∞îÍøîÎÜìÏïòÏäµÎãàÎã§. Íµ¨Ï∂ï ÎπÑÏö©Ïù¥ Í±∞Ïùò Îì§ÏßÄ ÏïäÍ≥† Í¥ÄÎ¶¨ ÎòêÌïú Ïâ¨Ïö∞Î©∞ Îã§ÏñëÌïú Í∏∞Îä•ÏùÑ ÏâΩÍ≤å Ï†úÍ≥µÌïòÍ≥† Í∞ÄÎ≥çÍ≤å ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§. ÎèÑÏª§ Ïä§ÏõúÏùò ÌïµÏã¨ÎÇ¥Ïö©Ïù∏ ÎÖ∏ÎìúÏôÄ ÏÑúÎπÑÏä§Ïóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥Í≥† ingress ÎÑ§Ìä∏ÏõåÌÅ¨ÏôÄ ÏûêÏ≤¥ ÎÇ¥Ïû•Îêú Î°úÎìúÎ∞∏Îü∞ÏÑú, DNS ÏÑúÎ≤ÑÎ•º ÏÇ¥Ìé¥Î¥ÖÎãàÎã§." />
  
  <meta property="og:image" content="https://subicura.com/assets/images/df_logo.png" />
  <meta property="og:url" content="https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2017-02-25T00:00:00+09:00">

  <meta property="fb:app_id" content="1611862309129685" />

  <meta name="naver-site-verification" content="cc257cc7988ed85c9db6c228330b4870f9dfa25f" />

  <link rel="canonical" href="https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html"/>
  <link rel="shortcut icon" href="/assets/images/favicon.png" type="image/png"/>
  <!-- <link rel="stylesheet" href="//brick.a.ssl.fastly.net/Linux+Libertine:400,400i,700,700i/Open+Sans:400,400i,700,700i" /> -->
  <!-- <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" /> -->

  <link rel="stylesheet" type="text/css" href="/css/main.css?1720623858029652000" />
  <link rel="stylesheet" type="text/css" href="/css/asciinema-player.css" />
  <link rel="stylesheet" type="text/css" href="/css/asciinema-theme-snazzy.css" />
  <link rel="stylesheet" type="text/css" href="/css/nerd-fonts-generated.css" />
  <link rel="stylesheet" type="text/css" href="/css/custom.css" />
  <!-- <link rel="stylesheet" type="text/css" media="print" href="/css/print.css" />-->
  
  <script src="/assets/js/webfont.js"></script>
  <script type="text/javascript">
    const toMatchItem = /Android|iPhone|iPad|iPod/i;
    if (!navigator.userAgent.match(toMatchItem)) {
      WebFont.load({
        custom: {
          families: ['Spoqa Han Sans'],
          urls: ['/css/spoqa-han-sans-font.css']
        }
      });
    }
  </script>
  <script>
    var _mailChimpUrl = "http://eepurl.com/cywDtP";
  </script>

  <script>(function (co,de,n,but,t,e,r){!n[co]&&(n[co]=function(){
  (n[co].q=n[co].q||[]).push(arguments);});e=t.createElement(but);
  e.async=true;e.src=de;r=t.getElementsByTagName(but)[0];
  r.parentNode.insertBefore(e, r);
  })("CodenButter", "https://buttr.dev/butter.js", window, "script", document);
  window.CodenButter("boot", { siteId: "umgivfmwlx", auto: true });</script>

  
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2468713653725581"
     crossorigin="anonymous"></script>
  
</head>

  <body itemscope itemtype="http://schema.org/BlogPosting">
    <!-- header start -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43194822-1', 'auto');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-98XCF746ZC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-98XCF746ZC');
</script>


<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId            : '1611862309129685',
      autoLogAppEvents : true,
      xfbml            : true,
      version          : 'v13.0'
    });
  };
</script>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/ko_KR/sdk.js"></script>

<script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>

<a href="https://subicura.com" class="logo-readium"><span class="logo" style="background-image: url(/assets/images/df_logo.png)"></span></a>
<!-- header end -->



    
      <a href="https://subicura.com/k8s/?utm_source=subicura.com&utm_medium=banner&utm_campaign=blog" target="_blank" class="top-banner">üìî Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ ÏïàÎÇ¥ÏÑú ‚Üí</a>



    

    <main class="content" role="main">
      <article class="post">
        <div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
          <meta itemprop="name" content="Subicura's Blog" />
          <meta itemprop="url" content="https://subicura.com" />
          <div itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop="url" content="https://subicura.com/assets/images/df_logo.png" />
          </div>
        </div>
        <div itemprop="image" itemscope itemtype="http://schema.org/ImageObject">
          <meta itemprop="url" content="https://subicura.com/assets/images/author.jpg" />
        </div>
        <meta itemprop="headline" content="Docker SwarmÏùÑ Ïù¥Ïö©Ìïú ÏâΩÍ≥† Îπ†Î•∏ Î∂ÑÏÇ∞ ÏÑúÎ≤Ñ Í¥ÄÎ¶¨" />
        <meta itemprop="mainEntityOfPage" content="/2017/02/25/container-orchestration-with-docker-swarm.html" />
        <meta itemprop="datePublished" content="2017-02-25 00:00:00 +0900" />
        <meta itemprop="dateModified" content="2017-03-05 20:30:00 +0900" />
        
        <div class="noarticleimage">
          <div class="post-meta">
            <h1 class="post-title">
              Docker SwarmÏùÑ Ïù¥Ïö©Ìïú ÏâΩÍ≥† Îπ†Î•∏ Î∂ÑÏÇ∞ ÏÑúÎ≤Ñ Í¥ÄÎ¶¨
              
            </h1>
            <div class="cf post-meta-text">
              <section class="share">
                <div class="fb-like" data-href="https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div>
                <a data-pocket-label="pocket" data-pocket-count="none" class="pocket-btn" data-lang="ko"></a>
                
                  
                    <a class="icon-twitter" href="http://twitter.com/share?text=Docker+Swarm%EC%9D%84+%EC%9D%B4%EC%9A%A9%ED%95%9C+%EC%89%BD%EA%B3%A0+%EB%B9%A0%EB%A5%B8+%EB%B6%84%EC%82%B0+%EC%84%9C%EB%B2%84+%EA%B4%80%EB%A6%AC&amp;url=https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html"
                      onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
                      <i class="nf nf-fa-twitter"></i><span class="hidden">twitter</span>
                    </a>
                  
                
                  
                
              </section>
              <div class="author-info">
                <div class="author-image" style="background-image: url(/assets/images/author.jpg)">Blog Logo</div>
                <h4 class="author-name" itemprop="author" itemscope itemtype="http://schema.org/Person">
                  subicura<meta itemprop="name" content="subicura" /><meta itemprop="url" content="https://subicura.com/about" />
                </h4>
                on
                <time datetime="2017-02-25T00:00:00+09:00">25 Feb 2017</time>
              </div>
            </div>
          </div>
        </div>
        <br>
        <br>
        <br>
        
        <section class="post-content">
          <div class="post-reading">
            <span class="post-reading-time"></span> read
          </div>
          <a name="topofpage"></a>
          <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#ÏÑúÎ≤Ñ-Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò-server-orchestration">ÏÑúÎ≤Ñ Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò server orchestration</a></li>
<li class="toc-entry toc-h2"><a href="#Ïª®ÌÖåÏù¥ÎÑà-Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò-Ìà¥-container-orchestration-tool">Ïª®ÌÖåÏù¥ÎÑà Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò Ìà¥ Container Orchestration Tool</a>
<ul>
<li class="toc-entry toc-h3"><a href="#fleet-by-coreos">fleet by CoreOS</a></li>
<li class="toc-entry toc-h3"><a href="#mesos-by-apache">Mesos by Apache</a></li>
<li class="toc-entry toc-h3"><a href="#kubernetes-by-cloud-native-computing-foundation-with-google">kubernetes by Cloud Native Computing Foundation (with google)</a></li>
<li class="toc-entry toc-h3"><a href="#ec2-container-service-ecs-by-aws">EC2 Container Service (ECS) by AWS</a></li>
<li class="toc-entry toc-h3"><a href="#nomad-by-hashicorp">Nomad by HashiCorp</a></li>
<li class="toc-entry toc-h3"><a href="#Í∑∏Ïô∏">Í∑∏Ïô∏</a></li>
<li class="toc-entry toc-h3"><a href="#Í≤∞Î°†">Í≤∞Î°†</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#ÎèÑÏª§-Ïä§Ïõú-ÏÇ¥Ìé¥Î≥¥Í∏∞">ÎèÑÏª§ Ïä§Ïõú ÏÇ¥Ìé¥Î≥¥Í∏∞</a>
<ul>
<li class="toc-entry toc-h3"><a href="#ÎèÑÏª§-Ïä§ÏõúÏùò-Îì±Ïû•">ÎèÑÏª§ Ïä§ÏõúÏùò Îì±Ïû•</a></li>
<li class="toc-entry toc-h3"><a href="#ÎèÑÏª§-Ïä§ÏõúÏóêÏÑú-ÏÇ¨Ïö©ÌïòÎäî-Ïö©Ïñ¥">ÎèÑÏª§ Ïä§ÏõúÏóêÏÑú ÏÇ¨Ïö©ÌïòÎäî Ïö©Ïñ¥</a></li>
<li class="toc-entry toc-h3"><a href="#ÎèÑÏª§-Ïä§ÏõúÏù¥-Ï†úÍ≥µÌïòÎäî-Í∏∞Îä•">ÎèÑÏª§ Ïä§ÏõúÏù¥ Ï†úÍ≥µÌïòÎäî Í∏∞Îä•</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Ïä§ÏõúÏã§Ïäµ">Ïä§ÏõúÏã§Ïäµ</a>
<ul>
<li class="toc-entry toc-h3"><a href="#Ï§ÄÎπÑ">Ï§ÄÎπÑ</a></li>
<li class="toc-entry toc-h3"><a href="#Ïä§Ïõú-ÌÅ¥Îü¨Ïä§ÌÑ∞-ÎßåÎì§Í∏∞">Ïä§Ïõú ÌÅ¥Îü¨Ïä§ÌÑ∞ ÎßåÎì§Í∏∞</a></li>
<li class="toc-entry toc-h3"><a href="#Í∏∞Î≥∏-Ïõπ-Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò">Í∏∞Î≥∏ Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò</a></li>
<li class="toc-entry toc-h3"><a href="#ingress-network">Ingress network</a></li>
<li class="toc-entry toc-h3"><a href="#ÏÑúÎπÑÏä§-Î≥µÏ†ú-replication">ÏÑúÎπÑÏä§ Î≥µÏ†ú replication</a></li>
<li class="toc-entry toc-h3"><a href="#healthcheck">HEALTHCHECK</a></li>
<li class="toc-entry toc-h3"><a href="#Î∞©Î¨∏ÏûêÏàò-Ï≤¥ÌÅ¨-Ïõπ-Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò">Î∞©Î¨∏ÏûêÏàò Ï≤¥ÌÅ¨ Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò</a></li>
<li class="toc-entry toc-h3"><a href="#ÎπÑÎ∞ÄÌÇ§-Ï°∞Ìöå-Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò">ÎπÑÎ∞ÄÌÇ§ Ï°∞Ìöå Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò</a></li>
<li class="toc-entry toc-h3"><a href="#traefik-Î¶¨Î≤ÑÏä§-ÌîÑÎ°ùÏãú-ÏÑúÎ≤Ñ">Traefik Î¶¨Î≤ÑÏä§ ÌîÑÎ°ùÏãú ÏÑúÎ≤Ñ</a></li>
<li class="toc-entry toc-h3"><a href="#Ïä§Ïõú-ÏÑúÎ≤Ñ-Î™®ÎãàÌÑ∞ÎßÅ">Ïä§Ïõú ÏÑúÎ≤Ñ Î™®ÎãàÌÑ∞ÎßÅ</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Í≤∞Î°†-1">Í≤∞Î°†</a></li>
</ul><p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/docker-swarm.png" alt="docker swarm"></p>

<p>Ï†úÍ∞Ä ÏùºÌïòÍ≥† ÏûàÎäî ÌçºÌîåÏõçÏä§ÏóêÏÑúÎäî Ïó¨Îü¨ ÎåÄÏùò ÏÑúÎ≤ÑÏóê Îã§ÏñëÌïú Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùÑ ÏÑ§ÏπòÌïòÏó¨ ÏÇ¨Ïö©ÌïòÍ≥† ÏûàÏäµÎãàÎã§. <del>ÏïÑÏßÅÎèÑ ÎØ∏ÏôÑÏÑ±Ïù∏</del> <a href="http://www.purpleworks.co.kr/">ÌôàÌéòÏù¥ÏßÄ</a> Î•º ÎπÑÎ°ØÌïòÏó¨ <a href="https://ko.wikipedia.org/wiki/LDAP">LDAP</a>, <a href="https://about.gitlab.com/">Gitlab</a>, <a href="https://jenkins.io/">Jenkins</a>, <a href="https://docs.docker.com/registry/">Docker Registry</a>, <a href="https://sensuapp.org/">Sensu</a>, <a href="http://grafana.org/">Grafana</a>, DBÏôÄ Í∞ôÏùÄ ÏóÖÎ¨¥Ïö© ÌîÑÎ°úÍ∑∏Îû®Ïù¥ Ïó¨Í∏∞Ï†ÄÍ∏∞ ÏÑ§ÏπòÎêòÏñ¥ ÏûàÍ≥† Í∞úÎ∞ú Ï§ëÏù∏ ÏÑúÎπÑÏä§Îì§Ïùò ÌÖåÏä§Ìä∏/Ïä§ÌÖåÏù¥Ïßï ÏÑúÎ≤ÑÎèÑ Ïó¨Îü¨ ÎåÄ ÏûàÏäµÎãàÎã§.</p>

<p>ÎßéÏùÄ ÏÑúÎπÑÏä§Î•º Ìö®Ïú®Ï†ÅÏúºÎ°ú Í¥ÄÎ¶¨ÌïòÍ∏∞ ÏúÑÌï¥ ÏÑúÎ≤ÑÎßàÎã§ Ïó≠Ìï†ÏùÑ Î∂ÄÏó¨ÌïòÏòÄÎäîÎç∞ 1Î≤à ÏÑúÎ≤ÑÎäî CI, 2Î≤à ÏÑúÎ≤ÑÎäî Î™®ÎãàÌÑ∞ÎßÅ, 3Î≤à ÏÑúÎ≤ÑÎäî Ïõπ, 4Î≤à ÏÑúÎ≤ÑÎäî ÎîîÎπÑ, 5Î≤à ÏÑúÎ≤ÑÎäî ÌÅê Ïù¥Îü∞ ÏãùÏúºÎ°ú ÏÑúÎπÑÏä§Ïùò Ï¢ÖÎ•òÏóê Îî∞Îùº ÏÑúÎ≤ÑÎ•º Íµ¨Î∂ÑÌïòÏòÄÏäµÎãàÎã§. Ïù¥Îü∞ Î∞©ÏãùÏùÄ Ìö®Ïú®Ï†ÅÏù¥Í≥† Ï†ïÎ¶¨Í∞Ä ÏûòÎêú Í≤ÉÏ≤òÎüº Î≥¥ÏòÄÏßÄÎßå ÏÑúÎ≤ÑÍ∞Ä ÎäòÏñ¥ÎÇòÍ≥† Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä Ï∂îÍ∞ÄÎê† ÎïåÎßàÎã§ ÎπÑÌö®Ïú®Ï†ÅÏù¥ÎùºÎäî Í±∏ ÏïåÍ≤å ÎêòÏóàÏäµÎãàÎã§.</p>

<p>ÏÑúÎ≤ÑÍ∞Ä Ïó≠Ìï†Ïóê Îî∞Îùº ÎÇòÎâòÏñ¥ ÏûàÏóàÍ∏∞ ÎïåÎ¨∏Ïóê ÌäπÏ†ï ÏÑúÎ≤ÑÏóê Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä Î™∞Î¶¨Îäî ÏÉÅÌô©Ïù¥ Î∞úÏÉùÌñàÍ≥† Ïó≠Ìï†Ïù¥ Î™®Ìò∏Ìïú Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùò Í≤ΩÏö∞Îäî Ïñ¥ÎîîÏóê ÏÑ§ÏπòÌï†ÏßÄ Í≥†ÎØºÎêòÍ≥† ÏÑ§ÏπòÌïòÍ≥†ÎèÑ Ï∞ùÏ∞ùÌïú Í≤ΩÏö∞Í∞Ä ÎßéÏïòÏäµÎãàÎã§. Î¶¨ÏÜåÏä§Í∞Ä Ïó¨Ïú† ÏûàÎäî ÏÑúÎ≤ÑÎ°ú Ïª®ÌÖåÏù¥ÎÑàÎ•º ÏòÆÍ∏∞Í≥† Ïã∂Ïñ¥ÎèÑ Îã§Î•∏ Ïª®ÌÖåÏù¥ÎÑàÏôÄ ÏùòÏ°¥ÏÑ±Ïù¥ ÏûàÏñ¥ ÏâΩÍ≤å Î™ª ÏòÆÍ∏∞Îäî Í≤ΩÏö∞ÎèÑ ÏûàÍ≥† IP, PortÏôÄ Í∞ôÏùÄ ÏÑ§Ï†ï ÌååÏùºÏùÑ ÏàòÏ†ïÌïòÎäî Í≤ÉÎèÑ Î¨∏Ï†úÏòÄÏäµÎãàÎã§. Ïª®ÌÖåÏù¥ÎÑàÎäî ÍµâÏû•Ìûà Ïú†Ïó∞ÌïòÏó¨ ÌôïÏû•Ïù¥ÎÇò Ïù¥ÎèôÏù¥ Ïâ¨Ïö¥Îç∞ Í∑∏Îü∞ Ïû•Ï†êÏùÑ Í±∞Ïùò Î™ª ÏÇ¥Î¶¨Í≥† ÏûàÏóàÏäµÎãàÎã§.</p>

<p>ÎèÑÏª§ÎçïÎ∂ÑÏóê Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò ÏÑ§Ïπò ÏûêÏ≤¥Í∞Ä ÍµâÏû•Ìûà Ìé∏Ìï¥Ï†∏ Ïù¥Îü∞ ÏûëÏóÖÏùÄ ÏÇ¨ÏÜåÌï¥ Î≥¥Ïùº Ïàò ÏûàÏßÄÎßå, Ïù∏Í∞ÑÏùò ÏöïÏã¨ÏùÄ ÎÅùÏù¥ ÏóÜÍ≥† ÎçîÏö± Í≤©Î†¨ÌïòÍ≤å ÏïÑÎ¨¥Í≤ÉÎèÑ Ïïà ÌïòÍ≥† Ïã∂Í∏∞ ÎïåÎ¨∏Ïóê Ïª®ÌÖåÏù¥ÎÑàÎ•º Ïã§ÌñâÌï† ÏÑúÎ≤ÑÎ•º Í≥†Î•¥Îäî Í≤ÉÎ∂ÄÌÑ∞ Ï†ïÎ≥¥Î•º Í¥ÄÎ¶¨ÌïòÎäî Í≤ÉÍπåÏßÄ Î™®Îì† Í≥ºÏ†ïÏùÑ ÏûêÎèôÌôîÌïòÎ©¥ Ï¢ãÍ≤†Îã§Îäî ÏÉùÍ∞ÅÏùÑ ÌñàÏäµÎãàÎã§.</p>

<p>Îã§ÌñâÌûà ÎπÑÏä∑Ìïú Í≥†ÎØºÏùÑ ÎØ∏Î¶¨Ìïú Í≥†Ïò§Í∏â Í∞úÎ∞úÏûêÎì§Ïù¥ ÏûàÏóàÍ≥† Ïù¥Îü¨Ìïú ÏûëÏóÖÏùÑ <a href="https://en.wikipedia.org/wiki/Orchestration_(computing)">Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò</a><sub>Orchestration</sub>Ïù¥ÎùºÍ≥† Ìï©ÎãàÎã§.</p>

<div align="center" class="googleads googleads-content">
                <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2468713653725581" data-ad-slot="8649023787" data-ad-format="auto"></ins>
                <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
            </div>

<hr>

<h2 id="ÏÑúÎ≤Ñ-Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò-server-orchestration">
<a class="anchor" href="#%EC%84%9C%EB%B2%84-%EC%98%A4%EC%BC%80%EC%8A%A4%ED%8A%B8%EB%A0%88%EC%9D%B4%EC%85%98-server-orchestration" aria-hidden="true"><span class="octicon octicon-link"></span></a>ÏÑúÎ≤Ñ Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò <sub>server orchestration</sub>
</h2>
<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/container-orchestration.png" alt="container orchestration"></p>

<p>ÏÑúÎ≤Ñ Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖòÏù¥ÎùºÎäî Ïö©Ïñ¥Îäî Î™®Ìò∏Ìïú ÏùòÎØ∏Î•º Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§. Í∞ÑÎã®ÌïòÍ≤å Ï†ïÏùòÌïòÎ©¥ <strong>Ïó¨Îü¨ ÎåÄÏùò ÏÑúÎ≤ÑÏôÄ Ïó¨Îü¨ Í∞úÏùò ÏÑúÎπÑÏä§Î•º Ìé∏Î¶¨ÌïòÍ≤å Í¥ÄÎ¶¨Ìï¥Ï£ºÎäî ÏûëÏóÖ</strong>Ïù¥ÎùºÍ≥† Ìï† Ïàò ÏûàÍ≥† Ïã§Ï†úÎ°úÎäî Ïä§ÏºÄÏ§ÑÎßÅ<sub>scheduling</sub>, ÌÅ¥Îü¨Ïä§ÌÑ∞ÎßÅ<sub>clustering</sub>, ÏÑúÎπÑÏä§ ÎîîÏä§Ïª§Î≤ÑÎ¶¨<sub>service discovery</sub>, Î°úÍπÖ<sub>logging</sub>, Î™®ÎãàÌÑ∞ÎßÅ<sub>monitoring</sub> Í∞ôÏùÄ ÏùºÏùÑ Ìï©ÎãàÎã§.</p>

<p>Í∑∏ÎÉ• Ïó¨Îü¨ ÎåÄÏùò ÏÑúÎ≤ÑÎ•º Ìé∏ÌïòÍ≤å Í¥ÄÎ¶¨ÌïòÍ≥† Ïã∂ÏùÑ ÎøêÏù∏Îç∞ ÏÉàÎ°úÏö¥ Ïö©Ïñ¥Í∞Ä ÎßéÏù¥ Îì±Ïû•Ìï©ÎãàÎã§.</p>

<p><strong>Ïä§ÏºÄÏ§ÑÎßÅ</strong>: Ïª®ÌÖåÏù¥ÎÑàÎ•º Ï†ÅÎãπÌïú ÏÑúÎ≤ÑÏóê Î∞∞Ìè¨Ìï¥ Ï£ºÎäî ÏûëÏóÖÏûÖÎãàÎã§. Ìà¥Ïóê Îî∞ÎùºÏÑú ÏßÄÏõêÌïòÎäî Ï†ÑÎûµÏù¥ Ï°∞Í∏àÏî© Îã§Î•∏Îç∞ Ïó¨Îü¨ ÎåÄÏùò ÏÑúÎ≤Ñ Ï§ë Í∞ÄÏû• Ìï†Ïùº ÏóÜÎäî ÏÑúÎ≤ÑÏóê Î∞∞Ìè¨ÌïòÍ±∞ÎÇò Í∑∏ÎÉ• Ï∞®Î°ÄÎåÄÎ°ú Î∞∞Ìè¨ ÎòêÎäî ÏïÑÏòà ÎûúÎç§ÌïòÍ≤å Î∞∞Ìè¨Ìï† ÏàòÎèÑ ÏûàÏäµÎãàÎã§. Ïª®ÌÖåÏù¥ÎÑà Í∞úÏàòÎ•º Ïó¨Îü¨ Í∞úÎ°ú ÎäòÎ¶¨Î©¥ Ï†ÅÎãπÌûà ÎÇòÎà†ÏÑú Î∞∞Ìè¨ÌïòÍ≥† ÏÑúÎ≤ÑÍ∞Ä Ï£ΩÏúºÎ©¥ Ïã§Ìñâ Ï§ëÏù¥Îçò Ïª®ÌÖåÏù¥ÎÑàÎ•º Îã§Î•∏ ÏÑúÎ≤ÑÏóê ÎùÑÏõåÏ£ºÍ∏∞ÎèÑ Ìï©ÎãàÎã§.</p>

<p><strong>ÌÅ¥Îü¨Ïä§ÌÑ∞ÎßÅ</strong>: Ïó¨Îü¨ Í∞úÏùò ÏÑúÎ≤ÑÎ•º ÌïòÎÇòÏùò ÏÑúÎ≤ÑÏ≤òÎüº ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§. ÌÅ¥Îü¨Ïä§ÌÑ∞Ïóê ÏÉàÎ°úÏö¥ ÏÑúÎ≤ÑÎ•º Ï∂îÍ∞ÄÌï† ÏàòÎèÑ ÏûàÍ≥† Ï†úÍ±∞Ìï† ÏàòÎèÑ ÏûàÏäµÎãàÎã§. ÏûëÍ≤åÎäî Î™á Í∞ú Ïïà ÎêòÎäî ÏÑúÎ≤ÑÎ∂ÄÌÑ∞ ÎßéÍ≤åÎäî ÏàòÏ≤ú ÎåÄÏùò ÏÑúÎ≤ÑÎ•º ÌïòÎÇòÏùò ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú ÎßåÎì§ Ïàò ÏûàÏäµÎãàÎã§. Ïó¨Í∏∞Ï†ÄÍ∏∞ Ìù©Ïñ¥Ï†∏ ÏûàÎäî Ïª®ÌÖåÏù¥ÎÑàÎèÑ Í∞ÄÏÉÅ ÎÑ§Ìä∏ÏõåÌÅ¨Î•º Ïù¥Ïö©ÌïòÏó¨ ÎßàÏπò Í∞ôÏùÄ ÏÑúÎ≤ÑÏóê ÏûàÎäî Í≤ÉÏ≤òÎüº ÏâΩÍ≤å ÌÜµÏã†Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<p><strong>ÏÑúÎπÑÏä§ ÎîîÏä§Ïª§Î≤ÑÎ¶¨</strong>: Îßê Í∑∏ÎåÄÎ°ú ÏÑúÎπÑÏä§Î•º Ï∞æÏïÑÏ£ºÎäî Í∏∞Îä•ÏûÖÎãàÎã§. ÌÅ¥Îü¨Ïä§ÌÑ∞ ÌôòÍ≤ΩÏóêÏÑú Ïª®ÌÖåÏù¥ÎÑàÎäî Ïñ¥Îäê ÏÑúÎ≤ÑÏóê ÏÉùÏÑ±Îê†ÏßÄ Ïïå Ïàò ÏóÜÍ≥† Îã§Î•∏ ÏÑúÎ≤ÑÎ°ú Ïù¥ÎèôÌï† ÏàòÎèÑ ÏûàÏäµÎãàÎã§. Îî∞ÎùºÏÑú Ïª®ÌÖåÏù¥ÎÑàÏôÄ ÌÜµÏã†ÏùÑ ÌïòÍ∏∞ ÏúÑÌï¥ÏÑú Ïñ¥Îäê ÏÑúÎ≤ÑÏóêÏÑú Ïã§ÌñâÏ§ëÏù∏ÏßÄ ÏïåÏïÑÏïº ÌïòÍ≥† Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä ÏÉùÏÑ±ÎêòÍ≥† Ï§ëÏßÄÎê† Îïå Ïñ¥ÎîòÍ∞ÄÏóê IPÏôÄ PortÍ∞ôÏùÄ Ï†ïÎ≥¥Î•º ÏóÖÎç∞Ïù¥Ìä∏Ìï¥Ï§òÏïº Ìï©ÎãàÎã§. ÌÇ§-Î≤®Î•ò Ïä§ÌÜ†Î¶¨ÏßÄÏóê Ï†ïÎ≥¥Î•º Ï†ÄÏû•Ìï† ÏàòÎèÑ ÏûàÍ≥† ÎÇ¥Î∂Ä DNS ÏÑúÎ≤ÑÎ•º Ïù¥Ïö©Ìï† ÏàòÎèÑ ÏûàÏäµÎãàÎã§.</p>

<p><strong>Î°úÍπÖ, Î™®ÎãàÌÑ∞ÎßÅ</strong>: Ïó¨Îü¨ ÎåÄÏùò ÏÑúÎ≤ÑÎ•º Í¥ÄÎ¶¨ÌïòÎäî Í≤ΩÏö∞ Î°úÍ∑∏ÏôÄ ÏÑúÎ≤Ñ ÏÉÅÌÉúÎ•º ÌïúÍ≥≥ÏóêÏÑú Í¥ÄÎ¶¨ÌïòÎäîÍ≤å Ìé∏Ìï©ÎãàÎã§. Ìà¥ÏóêÏÑú ÏßÅÏ†ë ÏßÄÏõêÌïòÎäî Í≤ΩÏö∞ÎèÑ ÏûàÍ≥† Îî∞Î°ú ÌîÑÎ°úÍ∑∏Îû®ÏùÑ ÏÑ§ÏπòÌï¥Ïïº ÌïòÎäî Í≤ΩÏö∞ÎèÑ ÏûàÏäµÎãàÎã§. <a href="https://www.elastic.co/kr/webinars/introduction-elk-stack">ELK</a>ÏôÄ <a href="https://prometheus.io/">prometheus</a>Îì± Îã§ÏñëÌïú Ìà¥Ïù¥ ÏûàÏäµÎãàÎã§.</p>

<p>Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò Ìà¥ÏùÄ ÏÑúÎ≤ÑÎ•º Ï§ëÏïôÏóêÏÑú Í¥ÄÎ¶¨ÌïòÍ≥† ÎßéÏùÄ Í≤ÉÎì§ÏùÑ ÏûêÎèôÌôîÌï¥Ï£ºÍ∏∞ ÎïåÎ¨∏Ïóê Ïó¨Îü¨ ÎåÄÏùò ÏÑúÎ≤ÑÎ•º Í¥ÄÎ¶¨ÌïúÎã§Î©¥ Î¨¥Ï°∞Í±¥ ÎèÑÏûÖÌï¥Ïïº Ìï† ÍµâÏû•Ìûà ÌôòÏÉÅÏ†ÅÏù∏ Î∞©Î≤ïÏù¥ÎùºÍ≥† Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<p>ÌïòÏßÄÎßå, <strong>Ïù¥Î†áÍ≤å Ï¢ãÏùÄ Í≤å ÏûàÎäîÏßÄ ÏïåÎ©¥ÏÑúÎèÑ Ïó¨Îü¨ Í∞ÄÏßÄ Ïù¥Ïú†Î°ú ÎèÑÏûÖÌïòÍ∏∞ Ïñ¥Î†§Ïö¥ Í≤å ÌòÑÏã§</strong>ÏûÖÎãàÎã§. <del>ÏãúÎ¨¥Î£©</del></p>

<p>Í∞ÄÏû• ÌÅ∞ Ïù¥Ïú†Îäî ÏÑ§ÏπòÏôÄ Í¥ÄÎ¶¨Í∞Ä Ïñ¥Î†µÎã§Îäî Í±¥Îç∞ Î≥¥ÌÜµ Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò Ìà¥Îì§ÏùÄ ÏàòÎ∞±-ÏàòÏ≤ú-ÏàòÎßå ÎåÄÏùò ÏóÑÏ≤≠ÎÇòÍ≤å ÎßéÏùÄ ÏÑúÎ≤ÑÎ•º Í¥ÄÎ¶¨ÌïòÍ∏∞ ÏúÑÌïú Î™©Ï†ÅÏúºÎ°ú ÎßåÎì§Ïñ¥Ï°åÏäµÎãàÎã§. Í∏∞Î≥∏Ï†ÅÏúºÎ°ú ÏÑ§ÏπòÏôÄ Í¥ÄÎ¶¨Í∞Ä ÍΩ§ Ïñ¥Î†§Ïö¥ Ìé∏Ïù¥Í≥† ÏùºÎ∂Ä Í≥†Ïò§Ïò§Ïò§Í∏â ÌöåÏÇ¨Îì§Ïù¥ ÏïÑÎãàÎ©¥ ÎèÑÏûÖÌïòÎäî ÎπÑÏö©Ïù¥ ÏàòÏûëÏóÖÏúºÎ°ú Í¥ÄÎ¶¨ÌïòÎäî ÎπÑÏö©Î≥¥Îã§ Ìõ®Ïî¨ ÌÅΩÎãàÎã§. Ìà¥Ïóê ÎåÄÌï¥ Í≥µÎ∂ÄÎèÑ ÎßéÏù¥ Ìï¥Ïïº ÌïòÍ≥† Î≠îÍ∞Ä Ïû•Ïï†Í∞Ä ÏÉùÍ∏∞Î©¥ Ï†ÑÏ≤¥ ÏÑúÎ≤ÑÏóê Î¨∏Ï†úÍ∞Ä ÏÉùÍ∏∏ Ïàò ÏûàÏñ¥ÏÑú ÎèÑÏûÖÏù¥ Ï°∞Ïã¨Ïä§Îü¨Ïö∏ ÏàòÎ∞ñÏóê ÏóÜÏäµÎãàÎã§. <del>Ïù¥Í±∞ ÎàÑÍ∞Ä ÎèÑÏûÖÌïòÏûêÍ≥† ÌñàÏñ¥?!</del></p>

<p>Ïù¥Îü∞ ÏÉÅÌô©ÏóêÏÑú Îì±Ïû•Ìïú ÎèÑÏª§ Ïä§ÏõúÏùÄ Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò Ìà¥ÏùÄ Í¥ÄÎ¶¨Í∞Ä Ïñ¥Î†µÍ≥† ÏÇ¨Ïö©ÌïòÍ∏∞ Î≥µÏû°ÌïòÎã§Îäî Ìé∏Í≤¨ÏùÑ ÏôÑÏ†ÑÌûà Î∞îÍøîÎÜìÏïòÏäµÎãàÎã§. <strong>Íµ¨Ï∂ï ÎπÑÏö©Ïù¥ Í±∞Ïùò Îì§ÏßÄ ÏïäÍ≥† Í¥ÄÎ¶¨ ÎòêÌïú Ïâ¨Ïö∞Î©∞ Îã§ÏñëÌïú Í∏∞Îä•ÏùÑ ÏâΩÍ≤å Ï†úÍ≥µÌïòÍ≥† Í∞ÄÎ≥çÍ≤å ÏÇ¨Ïö©</strong>Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<h2 id="Ïª®ÌÖåÏù¥ÎÑà-Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò-Ìà¥-container-orchestration-tool">
<a class="anchor" href="#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EC%98%A4%EC%BC%80%EC%8A%A4%ED%8A%B8%EB%A0%88%EC%9D%B4%EC%85%98-%ED%88%B4-container-orchestration-tool" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ïª®ÌÖåÏù¥ÎÑà Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò Ìà¥ <sub>Container Orchestration Tool</sub>
</h2>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/orchestration-tools.png" alt="orchestration tools"></p>

<p>Î≥∏Í≤©Ï†ÅÏù∏ Ïä§Ïõú ÏÑ§Î™ÖÏóê ÏïûÏÑú Îã§Î•∏ Ïª®ÌÖåÏù¥ÎÑà Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò Ìà¥Ïóê ÎåÄÌï¥ ÏÇ¥Ìé¥Î≥¥Í≤†ÏäµÎãàÎã§. Îã§ÏñëÌïú Ìà¥Ïù¥ Îã§ÏñëÌïú ÌäπÏßïÏùÑ Í∞ÄÏßÄÍ≥† ÎßåÎì§Ïñ¥Ï°åÏúºÎãà Í∞ÄÎ≥çÍ≤å ÎπÑÍµêÌï¥Î≥¥Î©¥ Ï¢ãÏùÑ Í≤É Í∞ôÏäµÎãàÎã§.</p>

<h3 id="fleet-by-coreos">
<a class="anchor" href="#fleet-by-coreos" aria-hidden="true"><span class="octicon octicon-link"></span></a>fleet by CoreOS</h3>
<p><a href="https://github.com/coreos/fleet">ÎßÅÌÅ¨</a> / ÏÑ§Ïπò Î∞è Í¥ÄÎ¶¨ ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ / ÏÇ¨Ïö©Î≤ï ‚òÖ‚òÖ‚òÖ‚òÖ / Í∏∞Îä• ‚òÖ</p>

<ul>
  <li>CoreOS(Container OS)Ïóê Í∏∞Î≥∏ÏúºÎ°ú ÎÇ¥Ïû•ÎêòÏñ¥ ÏûàÎäî <a href="https://www.freedesktop.org/wiki/Software/systemd/">systemd</a>Ïùò cluster Î≤ÑÏ†Ñ</li>
  <li>Ïä§ÏºÄÏ§ÑÎßÅ Ïô∏Ïóê ÌäπÎ≥ÑÌïú Í∏∞Îä•Ïù¥ ÏóÜÏñ¥ Ï†ÑÏ≤¥ ÏÑúÎ≤ÑÏóê Î¨¥Ïñ∏Í∞Ä(agentÎ•ò)Î•º bootstrap ÌïòÎäî Ïö©ÎèÑÏóê Ï†ÅÎãπ</li>
</ul>

<h3 id="mesos-by-apache">
<a class="anchor" href="#mesos-by-apache" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mesos by Apache</h3>
<p><a href="http://mesos.apache.org/">ÎßÅÌÅ¨</a> / ÏÑ§Ïπò Î∞è Í¥ÄÎ¶¨ ‚òÖ‚òÖ / ÏÇ¨Ïö©Î≤ï ‚òÖ‚òÖ‚òÖ / Í∏∞Îä• ‚òÖ‚òÖ‚òÖ‚òÖ</p>

<ul>
  <li>Ïó≠ÏÇ¨ÏôÄ Ï†ÑÌÜµÏùò Î≤îÏö©Ï†ÅÏù∏ ÌÅ¥Îü¨Ïä§ÌÑ∞ Ìà¥Î°ú Twitter, Airbnb, Apple, UberÎì± Îã§ÏñëÌïú Í≥≥ÏóêÏÑú ÏÇ¨Ïö©ÌïòÏó¨ ÏïàÏ†ïÏÑ±Ïù¥ Í≤ÄÏ¶ùÎê®</li>
  <li>
<a href="https://zookeeper.apache.org/">Zookeeper</a>Î•º Í∏∞Î∞òÏúºÎ°ú Ïó¨Îü¨ ÎåÄÏùò ÏÑúÎ≤ÑÎ•º ÌïòÎÇòÏùò ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Í¥ÄÎ¶¨</li>
  <li>ÏÑ§ÏπòÏôÄ Í¥ÄÎ¶¨Í∞Ä Ïñ¥Î†µÍ≥† Ïª®ÌÖåÏù¥ÎÑàÎ•º ÏÇ¨Ïö©ÌïòÍ∏∞ ÏúÑÌï¥ Ï∂îÍ∞ÄÏ†ÅÏúºÎ°ú <a href="https://github.com/mesosphere/marathon">Marathon</a>Ïù¥ÎùºÎäî ÌîÑÎ†àÏûÑÏõåÌÅ¨Î•º ÏÇ¨Ïö©Ìï®</li>
</ul>

<h3 id="kubernetes-by-cloud-native-computing-foundation-with-google">
<a class="anchor" href="#kubernetes-by-cloud-native-computing-foundation-with-google" aria-hidden="true"><span class="octicon octicon-link"></span></a>kubernetes by Cloud Native Computing Foundation (with google)</h3>
<p><a href="https://kubernetes.io/">ÎßÅÌÅ¨</a> / ÏÑ§Ïπò Î∞è Í¥ÄÎ¶¨ ‚òÖ‚òÖ / ÏÇ¨Ïö©Î≤ï ‚òÖ‚òÖ‚òÖ / Í∏∞Îä• ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</p>

<ul>
  <li>15ÎÖÑ ÎèôÏïà ÏåìÏù∏ Íµ¨Í∏ÄÏùò ÎÖ∏ÌïòÏö∞Î°ú ÎßåÎì† ‚ÄúProduction-Grade Container Orchestration‚ÄùÏúºÎ°ú Í∏∞Îä•Ïù¥ Îß§Ïö∞ Îß§Ïö∞ ÌõåÎ•≠Ìï®</li>
  <li>ÏûêÏ≤¥Ï†ÅÏúºÎ°ú Íµ¨Ï∂ïÌïòÎ†§Î©¥ ÏÑ§ÏπòÏôÄ Í¥ÄÎ¶¨Í∞Ä ÍπåÎã§Î°≠ÏßÄÎßå, <a href="https://cloud.google.com/">Google Cloud</a>, <a href="https://azure.microsoft.com">Azure</a>, <a href="https://coreos.com/tectonic/">Tectonic</a>, <a href="https://www.openshift.com/">Openshift</a>Í∞ôÏùÄ ÌîåÎû´ÌèºÏùÑ Ïù¥Ïö©ÌïòÎ©¥ Ï°∞Í∏à Ìé∏Ìï¥Ïßê</li>
  <li>Íµ¨ÏÑ± Î∞è Í∞úÎÖêÏóê ÎåÄÌïú Ïù¥Ìï¥Í∞Ä ÌïÑÏöîÌïòÍ≥† ÏÉàÎ°úÏö¥ Ìà¥Í≥º ÏÇ¨Ïö©Î≤ïÏùÑ ÏùµÌûàÎäîÎç∞ ÏãúÍ∞ÑÏù¥ Ï¢Ä Í±∏Î¶º</li>
</ul>

<h3 id="ec2-container-service-ecs-by-aws">
<a class="anchor" href="#ec2-container-service-ecs-by-aws" aria-hidden="true"><span class="octicon octicon-link"></span></a>EC2 Container Service (ECS) by AWS</h3>
<p><a href="https://aws.amazon.com/ko/ecs/">ÎßÅÌÅ¨</a> / ÏÑ§Ïπò Î∞è Í¥ÄÎ¶¨ ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ / ÏÇ¨Ïö©Î≤ï ‚òÖ‚òÖ‚òÖ‚òÖ / Í∏∞Îä• ‚òÖ‚òÖ</p>

<ul>
  <li>AWSÎ•º ÏÇ¨Ïö© Ï§ëÏù¥ÎùºÎ©¥ ÏâΩÍ≤å ÏÇ¨Ïö©Ìï† Ïàò ÏûàÍ≥† Í∞úÎÖêÎèÑ Í∞ÑÎã®Ìï®</li>
  <li>Í∏∞Îä•Ïù¥ Îß§Ïö∞ Ïã¨ÌîåÌïòÏßÄÎßå ÏÇ¨Ïã§ ÎåÄÎ∂ÄÎ∂Ñ ÏãúÏä§ÌÖúÏóêÏÑú Î≥µÏû°Ìïú Í∏∞Îä•ÏùÄ ÌïÑÏöîÌïòÏßÄ ÏïäÏúºÎØÄÎ°ú Îã®ÏàúÌïú Íµ¨ÏÑ±Ïù¥ÎùºÎ©¥ Ïù¥ Ïù¥ÏÉÅ Ìé∏ÌïúÌà¥ÏùÄ ÏóÜÏùå</li>
</ul>

<h3 id="nomad-by-hashicorp">
<a class="anchor" href="#nomad-by-hashicorp" aria-hidden="true"><span class="octicon octicon-link"></span></a>Nomad by HashiCorp</h3>
<p><a href="https://www.nomadproject.io/">ÎßÅÌÅ¨</a> / ÏÑ§Ïπò Î∞è Í¥ÄÎ¶¨ ‚òÖ‚òÖ‚òÖ / ÏÇ¨Ïö©Î≤ï ‚òÖ‚òÖ‚òÖ‚òÖ / Í∏∞Îä• ‚òÖ‚òÖ‚òÖ‚òÖ</p>

<ul>
  <li>
<a href="https://www.vagrantup.com/">Vagrant</a>, <a href="https://www.consul.io/">Consul</a>, <a href="https://www.terraform.io/">Terraform</a>, <a href="https://www.vaultproject.io/">Vault</a>Îì±ÏùÑ ÎßåÎì† DevOps Ïû•Ïù∏ <a href="https://www.hashicorp.com/">HashiCorp</a>Ïùò Ï†úÌíà</li>
  <li>Í∞ôÏùÄ ÌöåÏÇ¨Ïùò ConsulÍ≥º VaultÎ•º Ïó∞ÎèôÌï¥ÏÑú ÏÇ¨Ïö©Ìï† Ïàò ÏûàÍ≥† Í∏∞Îä•ÏùÄ Îã§ÏñëÌïòÍ≥† Ï¢ãÏßÄÎßå Î∞òÎåÄÎ°ú Í≥µÎ∂ÄÌï† Í≤å ÎßéÍ≥† Í¥ÄÎ¶¨Í∞Ä Î≥µÏû°Ìï† Ïàò ÏûàÎã§Îäî Îúª</li>
  <li>ÎèÑÏª§Ïô∏Ïóê rkt, java Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùÑ ÏßÄÏõêÌïòÍ≥† Ïª§Îß®ÎìúÎùºÏù∏ Î™ÖÎ†πÏñ¥Îäî ÏßÅÍ¥ÄÏ†ÅÏù¥Í≥† Îß§Ïö∞ Ïù¥ÏÅòÍ≤å ÎèôÏûëÌï®</li>
</ul>

<h3 id="Í∑∏Ïô∏">
<a class="anchor" href="#%EA%B7%B8%EC%99%B8" aria-hidden="true"><span class="octicon octicon-link"></span></a>Í∑∏Ïô∏</h3>

<ul>
  <li>
<a href="https://github.com/rancher/cattle">Cattle</a> by rancher, <a href="http://cockpit-project.org/">Cockpit</a>  by Redhat, <a href="https://docs.cloudfoundry.org/concepts/diego/diego-architecture.html">Diego</a> by Cloud Foundry, <a href="https://flynn.io/">Flynn</a>Îì±Îì± Îã§ÏñëÌïú Ìà¥Ïù¥ ÏûàÍ≥† Îî±Ìûà Ïïà Ïç®Î¥êÏÑú Ï†ïÌôïÌïú ÎÇ¥Ïö©ÏùÑ Î™®Î•¥ÏßÄÎßå Í¥úÏ∞ÆÏùÑ Í≤É Í∞ôÏùå</li>
</ul>

<h3 id="Í≤∞Î°†">
<a class="anchor" href="#%EA%B2%B0%EB%A1%A0" aria-hidden="true"><span class="octicon octicon-link"></span></a>Í≤∞Î°†</h3>

<ul>
  <li>Ï†ÅÎãπÌïú Í∑úÎ™®(ÏàòÏã≠ ÎåÄ Ïù¥ÎÇ¥)ÏóêÏÑúÎäî <code class="language-plaintext highlighter-rouge">swarm</code>
</li>
  <li>ÌÅ∞ Í∑úÎ™®Ïùò ÌÅ¥Îü¨Ïä§ÌÑ∞ÏóêÏÑúÎäî <code class="language-plaintext highlighter-rouge">kubernetes</code>
</li>
  <li>AWSÏóêÏÑú Îã®ÏàúÌïòÍ≤å ÏÇ¨Ïö©ÌïúÎã§Î©¥ <code class="language-plaintext highlighter-rouge">ECS</code>
</li>
  <li>HashiCorpÌå¨Ïù¥ÎùºÎ©¥ <code class="language-plaintext highlighter-rouge">Nomad</code>
</li>
</ul>

<h2 id="ÎèÑÏª§-Ïä§Ïõú-ÏÇ¥Ìé¥Î≥¥Í∏∞">
<a class="anchor" href="#%EB%8F%84%EC%BB%A4-%EC%8A%A4%EC%9B%9C-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>ÎèÑÏª§ Ïä§Ïõú ÏÇ¥Ìé¥Î≥¥Í∏∞</h2>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/swarmnado.gif" alt="docker swarm mode"></p>

<p>Ïù¥Ï†ú Î≥∏Í≤©Ï†ÅÏúºÎ°ú Ïä§ÏõúÏóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥Í≤†ÏäµÎãàÎã§.</p>

<h3 id="ÎèÑÏª§-Ïä§ÏõúÏùò-Îì±Ïû•">
<a class="anchor" href="#%EB%8F%84%EC%BB%A4-%EC%8A%A4%EC%9B%9C%EC%9D%98-%EB%93%B1%EC%9E%A5" aria-hidden="true"><span class="octicon octicon-link"></span></a>ÎèÑÏª§ Ïä§ÏõúÏùò Îì±Ïû•</h3>

<p>Ïä§ÏõúÏùÄ ÎèÑÏª§ÏôÄ Î≥ÑÎèÑÎ°ú Í∞úÎ∞úÎêòÏóàÏßÄÎßå ÎèÑÏª§ 1.12 Î≤ÑÏ†ÑÎ∂ÄÌÑ∞ Ïä§Ïõú Î™®Îìú<sub>Swarm mode</sub>ÎùºÎäî Ïù¥Î¶ÑÏúºÎ°ú Ìï©Ï≥êÏ°åÏäµÎãàÎã§. ÎèÑÏª§Ïóê Î™®Ïò§Ïò§Ïò§Ïò§Îì†Í≤å ÎÇ¥Ïû•ÎêòÏñ¥ Îã§Î•∏ Ìà¥ÏùÑ ÏÑ§ÏπòÌï† ÌïÑÏöîÍ∞Ä ÏóÜÍ≥† ÎèÑÏª§ Î™ÖÎ†πÏñ¥ÏôÄ composeÎ•º Í∑∏ÎåÄÎ°ú ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏñ¥ Îã§Î•∏ Ìà¥Ïóê ÎπÑÌï¥ ÏïïÎèÑÏ†ÅÏúºÎ°ú ÏâΩÍ≥† Ìé∏Î¶¨Ìï©ÎãàÎã§.</p>

<p>Í∏∞Îä•Ïù¥ Îã®ÏàúÌïòÍ≥† ÌïÑÏöîÌïú Í≤ÉÎßå Íµ¨ÌòÑÎêòÏñ¥ ÏûàÏñ¥ ÏÑ∏Î∂ÄÏ†ÅÏù∏ Ïª®Ìä∏Î°§ÏùÄ Ïñ¥Î†µÏäµÎãàÎã§. Í∞ëÌà≠ÌäÄÌïú Í≤É Í∞ôÏßÄÎßå ÍΩ§ Ïò§Îû´ÎèôÏïà Í∞úÎ∞úÎêòÏóàÍ≥†(2015ÎÖÑ 1.0Î≤ÑÏ†Ñ) 1,000Í∞ú ÎÖ∏ÎìúÏóê 50,000Í∞ú Ïª®ÌÖåÏù¥ÎÑàÎèÑ Î¨∏Ï†úÏóÜÏù¥ ÌÖåÏä§Ìä∏ÌïòÏó¨ ÏïàÏ†ÑÏÑ±Ïù¥ Í≤ÄÏ¶ùÎêòÏóàÏäµÎãàÎã§.</p>

<h3 id="ÎèÑÏª§-Ïä§ÏõúÏóêÏÑú-ÏÇ¨Ïö©ÌïòÎäî-Ïö©Ïñ¥">
<a class="anchor" href="#%EB%8F%84%EC%BB%A4-%EC%8A%A4%EC%9B%9C%EC%97%90%EC%84%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9A%A9%EC%96%B4" aria-hidden="true"><span class="octicon octicon-link"></span></a>ÎèÑÏª§ Ïä§ÏõúÏóêÏÑú ÏÇ¨Ïö©ÌïòÎäî Ïö©Ïñ¥</h3>

<p><strong>Ïä§Ïõú<sub>swarm</sub></strong>: ÏßÅÏó≠ÌïòÎ©¥ Îñº, Íµ∞Ï§ëÏù¥ÎùºÎäî ÎúªÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§. ÎèÑÏª§ 1.12Î≤ÑÏ†ÑÏóêÏÑú Ïä§ÏõúÏù¥ Ïä§Ïõú Î™®ÎìúÎ°ú Î∞îÎÄåÏóàÏßÄÎßå Í∑∏ÎÉ• Ïä§ÏõúÏù¥ÎùºÍ≥†ÎèÑ ÌïòÎäîÎìØ Ìï©ÎãàÎã§. Ïä§Ïõú ÌÅ¥Îü¨Ïä§ÌÑ∞ ÏûêÏ≤¥ÎèÑ Ïä§ÏõúÏù¥ÎùºÍ≥† Ìï©ÎãàÎã§. (Ïä§ÏõúÏùÑ ÎßåÎì§Îã§. Ïä§ÏõúÏóê Í∞ÄÏûÖÌïòÎã§. = ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º ÎßåÎì§Îã§. ÌÅ¥Îü¨Ïä§ÌÑ∞Ïóê Í∞ÄÏûÖÌïòÎã§)</p>

<p><strong>ÎÖ∏Îìú<sub>node</sub></strong>: Ïä§Ïõú ÌÅ¥Îü¨Ïä§ÌÑ∞Ïóê ÏÜçÌïú ÎèÑÏª§ ÏÑúÎ≤ÑÏùò Îã®ÏúÑÏûÖÎãàÎã§. Î≥¥ÌÜµ Ìïú ÏÑúÎ≤ÑÏóê ÌïòÎÇòÏùò ÎèÑÏª§Îç∞Î™¨Îßå Ïã§ÌñâÌïòÎØÄÎ°ú ÏÑúÎ≤ÑÍ∞Ä Í≥ß ÎÖ∏ÎìúÎùºÍ≥† Ïù¥Ìï¥ÌïòÎ©¥ Îê©ÎãàÎã§. Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÏôÄ ÏõåÏª§ ÎÖ∏ÎìúÍ∞Ä ÏûàÏäµÎãàÎã§.</p>

<p><strong>Îß§ÎãàÏ†ÄÎÖ∏Îìú<sub>manager node</sub></strong>: Ïä§Ïõú ÌÅ¥Îü¨Ïä§ÌÑ∞ ÏÉÅÌÉúÎ•º Í¥ÄÎ¶¨ÌïòÎäî ÎÖ∏ÎìúÏûÖÎãàÎã§. Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÎäî Í≥ß ÏõåÏª§ÎÖ∏ÎìúÍ∞Ä Îê† Ïàò ÏûàÍ≥† Ïä§Ïõú Î™ÖÎ†πÏñ¥Îäî Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÏóêÏÑúÎßå Ïã§ÌñâÎê©ÎãàÎã§.</p>

<p><strong>ÏõåÏª§ÎÖ∏Îìú<sub>worker node</sub></strong>: Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÏùò Î™ÖÎ†πÏùÑ Î∞õÏïÑ Ïª®ÌÖåÏù¥ÎÑàÎ•º ÏÉùÏÑ±ÌïòÍ≥† ÏÉÅÌÉúÎ•º Ï≤¥ÌÅ¨ÌïòÎäî ÎÖ∏ÎìúÏûÖÎãàÎã§.</p>

<p><strong>ÏÑúÎπÑÏä§<sub>service</sub></strong>: Í∏∞Î≥∏Ï†ÅÏù∏ Î∞∞Ìè¨ Îã®ÏúÑÏûÖÎãàÎã§. ÌïòÎÇòÏùò ÏÑúÎπÑÏä§Îäî ÌïòÎÇòÏùò Ïù¥ÎØ∏ÏßÄÎ•º Í∏∞Î∞òÏúºÎ°ú ÏÉùÏÑ±ÌïòÍ≥† ÎèôÏùºÌïú Ïª®ÌÖåÏù¥ÎÑàÎ•º ÌïúÍ∞ú Ïù¥ÏÉÅ Ïã§ÌñâÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<p><strong>ÌÖåÏä§ÌÅ¨<sub>task</sub></strong>: Ïª®ÌÖåÏù¥ÎÑà Î∞∞Ìè¨ Îã®ÏúÑÏûÖÎãàÎã§. ÌïòÎÇòÏùò ÏÑúÎπÑÏä§Îäî Ïó¨Îü¨Í∞úÏùò ÌÖåÏä§ÌÅ¨Î•º Ïã§ÌñâÌï† Ïàò ÏûàÍ≥† Í∞ÅÍ∞ÅÏùò ÌÖåÏä§ÌÅ¨Í∞Ä Ïª®ÌÖåÏù¥ÎÑàÎ•º Í¥ÄÎ¶¨Ìï©ÎãàÎã§.</p>

<h3 id="ÎèÑÏª§-Ïä§ÏõúÏù¥-Ï†úÍ≥µÌïòÎäî-Í∏∞Îä•">
<a class="anchor" href="#%EB%8F%84%EC%BB%A4-%EC%8A%A4%EC%9B%9C%EC%9D%B4-%EC%A0%9C%EA%B3%B5%ED%95%98%EB%8A%94-%EA%B8%B0%EB%8A%A5" aria-hidden="true"><span class="octicon octicon-link"></span></a>ÎèÑÏª§ Ïä§ÏõúÏù¥ Ï†úÍ≥µÌïòÎäî Í∏∞Îä•</h3>

<p>Docker 1.13ÏùÑ Í∏∞Ï§ÄÏúºÎ°ú Ïñ¥Îñ§ Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌïòÎäîÏßÄ ÌïòÎÇòÌïòÎÇò ÏÇ¥Ìé¥Î¥ÖÎãàÎã§.</p>

<p><strong>Ïä§ÏºÄÏ§ÑÎßÅ <sub>scheduling</sub></strong>: ÏÑúÎπÑÏä§Î•º ÎßåÎì§Î©¥ Ïª®ÌÖåÏù¥ÎÑàÎ•º ÏõåÏª§ÎÖ∏ÎìúÏóê Î∞∞Ìè¨Ìï©ÎãàÎã§. ÌòÑÏû¨Îäî Í∑†Îì±ÌïòÍ≤å Î∞∞Ìè¨<sub>spread</sub>ÌïòÎäî Î∞©ÏãùÎßå ÏßÄÏõêÌïòÎ©∞ Ï∂îÌõÑ Îã§Î•∏ Î∞∞Ìè¨ Ï†ÑÎûµÏù¥ Ï∂îÍ∞ÄÎê† ÏòàÏ†ïÏûÖÎãàÎã§.
ÎÖ∏ÎìúÏóê ÎùºÎ≤®ÏùÑ ÏßÄÏ†ïÌïòÏó¨ ÌäπÏ†ï ÎÖ∏ÎìúÏóêÎßå Î∞∞Ìè¨Ìï† Ïàò ÏûàÍ≥† Î™®Îì† ÏÑúÎ≤ÑÏóê Ìïú ÎåÄÏî© Î∞∞Ìè¨ÌïòÎäî Í∏∞Îä•(Global)ÎèÑ Ï†úÍ≥µÌï©ÎãàÎã§. ÏÑúÎπÑÏä§Î≥ÑÎ°ú CPU, Memory ÏÇ¨Ïö©ÎüâÏùÑ ÎØ∏Î¶¨ ÏÑ§Ï†ïÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<p><strong>Í≥†Í∞ÄÏö©ÏÑ± <sub>High Available</sub></strong>: <a href="https://raft.github.io/">Raft ÏïåÍ≥†Î¶¨Ï¶ò</a>ÏùÑ Ïù¥Ïö©ÌïòÏó¨ Ïó¨Îü¨ Í∞úÏùò Îß§ÎãàÏ†ÄÎÖ∏ÎìúÎ•º Ïö¥ÏòÅÌï† Ïàò ÏûàÏäµÎãàÎã§. 3ÎåÄÎ•º ÏÇ¨Ïö©ÌïòÎ©¥ 1ÎåÄÍ∞Ä Ï£ΩÏñ¥ÎèÑ ÌÅ¥Îü¨Ïä§ÌÑ∞Îäî Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÎèôÏûëÌïòÎ©∞ Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÎ•º ÏßÄÏ†ïÌïòÎäî Î∞©Î≤ïÏùÄ Í∞ÑÎã®ÌïòÎØÄÎ°ú ÏâΩÍ≤å Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<p><strong>Î©ÄÌã∞ Ìò∏Ïä§Ìä∏ ÎÑ§Ìä∏ÏõåÌÅ¨ <sub>Multi Host Network</sub></strong>: Overlay networkÎ°ú Î∂àÎ¶¨Îäî SDN(Software defined networks)Î•º ÏßÄÏõêÌïòÏó¨ Ïó¨Îü¨ ÎÖ∏ÎìúÏóê Î∂ÑÏÇ∞Îêú Ïª®ÌÖåÏù¥ÎÑàÎ•º ÌïòÎÇòÏùò ÎÑ§Ìä∏ÏõåÌÅ¨Î°ú Î¨∂ÏùÑÏàò ÏûàÏäµÎãàÎã§. Ïª®ÌÖåÏù¥ÎÑàÎßàÎã§ ÎèÖÎ¶ΩÎêú IPÍ∞Ä ÏÉùÍ∏∞Í≥† ÏÑúÎ°ú Îã§Î•∏ ÎÖ∏ÎìúÏóê ÏûàÏñ¥ÎèÑ Ìï†ÎãπÎêú IPÎ°ú ÌÜµÏã†Ìï† Ïàò ÏûàÏäµÎãàÎã§. (Ìò∏Ïä§Ìä∏ IPÎ•º Î™∞ÎùºÎèÑ Îê©ÎãàÎã§!)</p>

<p><strong>ÏÑúÎπÑÏä§ ÎîîÏä§Ïª§Î≤ÑÎ¶¨ <sub>Service Discovery</sub></strong>: ÏÑúÎπÑÏä§ ÎîîÏä§Ïª§Î≤ÑÎ¶¨Î•º ÏúÑÌïú ÏûêÏ≤¥ DNS ÏÑúÎ≤ÑÎ•º Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§. Ïª®ÌÖåÏù¥ÎÑàÎ•º ÏÉùÏÑ±ÌïòÎ©¥ ÏÑúÎπÑÏä§Î™ÖÍ≥º ÎèôÏùºÌïú ÎèÑÎ©îÏù∏ÏùÑ Îì±Î°ùÌïòÍ≥† Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä Î©àÏ∂îÎ©¥ ÎèÑÎ©îÏù∏ÏùÑ Ï†úÍ±∞Ìï©ÎãàÎã§. Î©ÄÌã∞ Ìò∏Ïä§Ìä∏ ÎÑ§Ìä∏ÏõåÌÅ¨Î•º ÏÇ¨Ïö©ÌïòÎ©¥ Ïó¨Îü¨ ÎÖ∏ÎìúÏóê Î∂ÑÏÇ∞Îêú Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä Í∞ôÏùÄ ÎÑ§Ìä∏ÏõåÌÅ¨Î°ú Î¨∂Ïù¥ÎØÄÎ°ú ÏÑúÎπÑÏä§ Ïù¥Î¶ÑÏúºÎ°ú Î∞îÎ°ú Ï†ëÍ∑ºÌï† Ïàò ÏûàÏäµÎãàÎã§. ConsulÏù¥ÎÇò etcd, zookeeperÏôÄ Í∞ôÏùÄ Ïô∏Î∂Ä ÏÑúÎπÑÏä§Î•º ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÍ≥† Ïñ¥Îñ†Ìïú Ï∂îÍ∞Ä ÏûëÏóÖÎèÑ ÌïÑÏöî ÏóÜÏäµÎãàÎã§. Ïä§ÏõúÏù¥ ÏïåÏïÑÏÑú Îã§ Ìï¥ Ï§çÎãàÎã§.</p>

<p><strong>ÏàúÏ∞®Ï†Å ÏóÖÎç∞Ïù¥Ìä∏ <sub>Rolling Update</sub></strong>: ÏÑúÎπÑÏä§Î•º ÏÉàÎ°úÏö¥ Ïù¥ÎØ∏ÏßÄÎ°ú ÏóÖÎç∞Ïù¥Ìä∏ÌïòÎäî Í≤ΩÏö∞ ÌïòÎÇò ÌïòÎÇò Ï∞®Î°ÄÎåÄÎ°ú ÏóÖÎç∞Ïù¥Ìä∏Ìï©ÎãàÎã§. ÎèôÏãúÏóê ÏóÖÎç∞Ïù¥Ìä∏ÌïòÎäî ÏûëÏóÖÏùò Í∞úÏàòÏôÄ ÏóÖÎç∞Ïù¥Ìä∏ Í∞ÑÍ≤© ÏãúÍ∞ÑÏùÑ Ï°∞Ï†ïÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<p><strong>ÏÉÅÌÉú Ï≤¥ÌÅ¨ <sub>Health Check</sub></strong>: ÏÑúÎπÑÏä§Í∞Ä Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Ïã§ÌñâÎêòÏóàÎäîÏßÄ ÌôïÏù∏ÌïòÍ∏∞ ÏúÑÌï¥ Ïª®ÌÖåÏù¥ÎÑà Ïã§Ìñâ Ïó¨Î∂Ä Îøê ÌäπÏ†ï Ïâò Ïä§ÌÅ¨Î¶ΩÌÅ¨Í∞Ä Ï†ïÏÉÅÏúºÎ°ú Ïã§ÌñâÎêêÎäîÏßÄ Ïó¨Î∂ÄÎ•º Ï∂îÍ∞ÄÎ°ú Ï≤¥ÌÅ¨Ìï† Ïàò ÏûàÏäµÎãàÎã§. Ïª®ÌÖåÏù¥ÎÑà Ïã§Ìñâ Ïó¨Î∂ÄÎ°úÎßå Ï≤¥ÌÅ¨Ìï† Í≤ΩÏö∞ ÏïÑÏßÅ ÏÑúÎ≤ÑÍ∞Ä Ïã§Ìñâ ÎêòÏßÄ ÏïäÏïÑ Ï†ëÏÜçÏãú Ïò§Î•òÍ∞Ä ÎÇ† Ïàò ÏûàÎäî ÎØ∏Î¨òÌïú ÌÉÄÏù¥Î∞çÏùÑ Ïû°ÎäîÎç∞ Ìö®Í≥ºÏ†ÅÏûÖÎãàÎã§.</p>

<p><strong>ÎπÑÎ∞ÄÍ∞í Ï†ÄÏû• <sub>Secret Management</sub></strong>: ÎπÑÎ∞ÄÎ≤àÌò∏Î•º Ïä§Ïõú Ïñ¥ÎîòÍ∞ÄÏóê ÏÉùÏÑ±ÌïòÍ≥† Ïª®ÌÖåÏù¥ÎÑàÏóêÏÑú ÏùΩÏùÑ Ïàò ÏûàÏäµÎãàÎã§. ÎπÑÎ∞Ä Í∞íÏùÑ Í¥ÄÎ¶¨ÌïòÍ∏∞ ÏúÑÌïú Ïô∏Î∂Ä ÏÑúÎπÑÏä§Î•º ÏÑ§ÏπòÌïòÏßÄ ÏïäÍ≥† ÏâΩÍ≤å ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<p><strong>Î°úÍπÖ <sub>Logging</sub></strong>: Í∞ôÏùÄ ÎÖ∏ÎìúÏóêÏÑú Ïã§Ìñâ Ï§ëÏù∏ Ïª®ÌÖåÏù¥ÎÑàÎøê ÏïÑÎãàÎùº Îã§Î•∏ ÎÖ∏ÎìúÏóêÏÑú Ïã§Ìñâ Ï§ëÏù∏ ÏÑúÎπÑÏä§Ïùò Î°úÍ∑∏Î•º ÌïúÍ≥≥ÏóêÏÑú Î≥º Ïàò ÏûàÏäµÎãàÎã§. ÌäπÏ†ï ÏÑúÎπÑÏä§Ïùò Î°úÍ∑∏Î•º Î≥¥Î†§Î©¥ Ïñ¥Îäê ÎÖ∏ÎìúÏóêÏÑú Ïã§Ìñâ Ï§ëÏù∏ÏßÄ ÏïåÌïÑÏöîÎèÑ ÏóÜÍ≥† ÏùºÏùºÏù¥ Ï†ëÏÜçÌïòÏßÄ ÏïäÏïÑÎèÑ Îê©ÎãàÎã§.</p>

<p><strong>Î™®ÎãàÌÑ∞ÎßÅ <sub>Monitoring</sub></strong>: Î¶¨ÏÜåÏä§ Î™®ÎãàÌÑ∞ÎßÅ Í∏∞Îä•ÏùÄ Ï†úÍ≥µÌïòÏßÄ ÏïäÏäµÎãàÎã§. 3rd party ÏÑúÎπÑÏä§(<a href="https://prometheus.io/">prometheus</a>, <a href="http://grafana.org/">grafana</a>)Î•º ÏÇ¨Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§. ÏÑ§ÏπòÎäî ÏâΩÏßÄÎßå ÏùÄÍ∑º Í∑ÄÏ∏à‚Ä¶</p>

<p><strong>ÌÅ¨Î°†, Î∞òÎ≥µÏûëÏóÖ <sub>Cron</sub></strong>: ÌÅ¨Î°†, Î∞òÎ≥µÏûëÏóÖÎèÑ ÏïåÏïÑÏÑú Íµ¨ÌòÑÌï¥Ïïº Ìï©ÎãàÎã§. Ïó¨Îü¨ Í∞ÄÏßÄ Î∞©ÏãùÏúºÎ°ú Ìï¥Í≤∞Ìï† Ïàò ÏûàÍ≤†ÏßÄÎßå ÏßÅÏ†ë Ï†úÍ≥µÌïòÏßÄ ÏïäÏïÑ ÏïÑÏâ¨Ïö¥ Î∂ÄÎ∂ÑÏûÖÎãàÎã§.</p>

<h2 id="Ïä§ÏõúÏã§Ïäµ">
<a class="anchor" href="#%EC%8A%A4%EC%9B%9C%EC%8B%A4%EC%8A%B5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ïä§ÏõúÏã§Ïäµ</h2>

<p>Î≥∏Í≤©Ï†ÅÏúºÎ°ú Ïä§Ïõú ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º ÎßåÎì§Í≥† Ïó¨Îü¨ Í∞ÄÏßÄ ÏÑúÎπÑÏä§Î•º ÏÉùÏÑ±Ìï¥Î≥¥Î©¥ÏÑú ÎèÑÏª§ Ïä§ÏõúÏóê Îπ†Ï†∏Î≥¥Í≤†ÏäµÎãàÎã§. Ï†ÑÏ≤¥Ï†ÅÏù∏ ÎÇ¥Ïö©ÏùÄ Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.</p>

<ol>
  <li>Ï§ÄÎπÑ</li>
  <li>Ïä§Ïõú ÌÅ¥Îü¨Ïä§ÌÑ∞ ÎßåÎì§Í∏∞</li>
  <li>Í∏∞Î≥∏ Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò ÏÑúÎπÑÏä§</li>
  <li>Î∞©Î¨∏Ïûê Ïàò Ï≤¥ÌÅ¨ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò (with redis)</li>
  <li>ÎπÑÎ∞ÄÌÇ§ Ï°∞Ìöå Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò</li>
  <li>Traefik Î¶¨Î≤ÑÏä§ ÌîÑÎ°ùÏãú ÏÑúÎ≤Ñ</li>
  <li>Ïä§Ïõú ÏÑúÎ≤Ñ Î™®ÎãàÌÑ∞ÎßÅ</li>
</ol>

<h3 id="Ï§ÄÎπÑ">
<a class="anchor" href="#%EC%A4%80%EB%B9%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ï§ÄÎπÑ</h3>

<p><a href="https://www.vagrantup.com/">Vagrant</a>Î•º Ïù¥Ïö©ÌïòÏó¨ 3Í∞úÏùò <a href="https://coreos.com/os/docs/latest">CoreOS(Container Linux)</a>Í∞ÄÏÉÅÎ®∏Ïã†ÏùÑ ÎßåÎì≠ÎãàÎã§. Í∞ÅÍ∞Å 1 CPUÏôÄ 1G MemoryÎ•º Ìï†ÎãπÌïòÍ≥† Îß§ÎãàÏ†Ä ÎÖ∏Îìú ÌïòÎÇòÏôÄ ÏõåÏª§ ÎÖ∏Îìú 2Í∞úÎ•º ÏÑ§Ï†ïÌïòÏó¨ ÏÇ¨Ïö©Ìï©ÎãàÎã§.</p>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/create-virtual-machine.png" alt="virtual machines"></p>

<ul>
  <li>core-01 (manager) / 172.17.8.101 / 1 cpu / 1G memory</li>
  <li>core-02 (worker) / 172.17.8.102 / 1 cpu / 1G memory</li>
  <li>core-03 (worker) / 172.17.8.103 / 1 cpu / 1G memory</li>
</ul>

<blockquote>
  <p>VagrantÎäî VirtualBox, VMWare, ParallelsÍ∞ôÏùÄ Í∞ÄÏÉÅÎ®∏Ïã†ÏùÑ ÏâΩÍ≤å ÎßåÎì§Í≥† Í¥ÄÎ¶¨Ìï¥Ï£ºÎäî Ìà¥ÏûÖÎãàÎã§. CoreOSÎäî ÎèÑÏª§Í∞Ä ÎÇ¥Ïû•Îêú Í∞ÄÎ≤ºÏö¥ OSÏûÖÎãàÎã§.</p>
</blockquote>

<p>Í∞ÄÏÉÅÎ®∏Ïã†ÏùÑ ÎßåÎìúÎäî Î∞©Î≤ïÏùÄ Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.</p>

<ol>
  <li>virtual box ÏÑ§Ïπò <a href="https://www.virtualbox.org/">Îã§Ïö¥Î°úÎìú</a>
</li>
  <li>Vagrant ÏÑ§Ïπò <a href="https://www.vagrantup.com/downloads.html">Îã§Ïö¥Î°úÎìú</a>
</li>
  <li>
<a href="https://github.com/cogitatio/vagrant-hostsupdater">vagrant-hostsupdater</a> plugin ÏÑ§Ïπò 
 <code class="language-plaintext highlighter-rouge">vagrant plugin install vagrant-hostsupdater</code>
</li>
  <li>Îç∞Î™® ÌååÏùº Îã§Ïö¥Î°úÎìú <a href="https://github.com/subicura/docker-swarm-demo">GitHub - docker swarm demo</a>
</li>
  <li>Í∞ÄÏÉÅÎ®∏Ïã† ÏÉùÏÑ±
Îç∞Î™® ÎîîÎ†âÌÜ†Î¶¨ÏóêÏÑú <code class="language-plaintext highlighter-rouge">vagrant up</code> Î™ÖÎ†πÏñ¥ Ïã§Ìñâ -&gt; ÏûêÎèôÏúºÎ°ú ÏÉùÏÑ±!</li>
</ol>

<p>Í∞ÄÏÉÅÎ®∏Ïã†Ïù¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÎäîÏßÄ ÌôïÏù∏ÌïòÎ†§Î©¥ <code class="language-plaintext highlighter-rouge">vagrant status</code>, Í∞ÄÏÉÅÎ®∏Ïã†ÏùÑ ÏÇ≠Ï†úÌïòÎ†§Î©¥ <code class="language-plaintext highlighter-rouge">vagrant destroy</code> Î•º Ïã§ÌñâÌï©ÎãàÎã§. Í∞ÄÏÉÅÎ®∏Ïã†Ïóê Ï†ëÏÜçÌïòÎäî Î™ÖÎ†πÏñ¥Îäî  <code class="language-plaintext highlighter-rouge">vagrant ssh [Í∞ÄÏÉÅÎ®∏Ïã†Ïù¥Î¶Ñ]</code>ÏûÖÎãàÎã§.</p>

<div class="asciinema-player-section">
<asciinema-player src="https://subicura.com/assets/asciinema/2017-02-25-container-orchestration-with-docker-swarm/vagrant-up.json" poster="npt:0:15" speed="2" theme="snazzy"></asciinema-player><figcaption>vagrant up</figcaption>
</div>

<h3 id="Ïä§Ïõú-ÌÅ¥Îü¨Ïä§ÌÑ∞-ÎßåÎì§Í∏∞">
<a class="anchor" href="#%EC%8A%A4%EC%9B%9C-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EB%A7%8C%EB%93%A4%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ïä§Ïõú ÌÅ¥Îü¨Ïä§ÌÑ∞ ÎßåÎì§Í∏∞</h3>

<p>Í∞ÄÏÉÅÎ®∏Ïã†Ïù¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏúºÎ©¥ Ïä§Ïõú ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º ÎßåÎì§Ïñ¥Î≥¥Í≤†ÏäµÎãàÎã§. Ïä§Ïõú ÌÅ¥Îü¨Ïä§ÌÑ∞Îäî Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÎ•º Î®ºÏ†Ä ÎßåÎì§Í≥† Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÍ∞Ä ÏÉùÏÑ±Ìïú ÌÜ†ÌÅ∞ÏùÑ Í∞ÄÏßÄÍ≥† ÏõåÏª§ ÎÖ∏ÎìúÏóêÏÑú Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÎ°ú Ï†ëÏÜçÌïòÎ©¥ Îê©ÎãàÎã§.</p>

<p>Î®ºÏ†Ä, <code class="language-plaintext highlighter-rouge">core-01</code>ÏÑúÎ≤ÑÎ•º Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÎ°ú ÏÑ§Ï†ïÌï©ÎãàÎã§. <code class="language-plaintext highlighter-rouge">swarm init</code>Î™ÖÎ†πÏñ¥Î•º ÏÇ¨Ïö©Ìï©ÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="code"><pre><span class="c"># vagrant ssh core-01</span>
docker swarm init <span class="nt">--advertise-addr</span> 172.17.8.101
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td>
<td class="code"><pre>Swarm initialized: current node <span class="o">(</span>gjm2fxwcx29ha4rfzkw3zskvt<span class="o">)</span> is now a manager.

To add a worker to this swarm, run the following <span class="nb">command</span>:

    docker swarm <span class="nb">join</span> <span class="se">\</span>
    <span class="nt">--token</span> SWMTKN-1-1la23f7y6y8joqxz27hac4j79yffyixcp15tjtlrnei14wwd1t-5tlmx4q9fm46drjzzd95g1l4q <span class="se">\</span>
    172.17.8.101:2377

To add a manager to this swarm, run <span class="s1">'docker swarm join-token manager'</span> and follow the instructions.
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>ÏàúÏãùÍ∞ÑÏóê Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÍ∞Ä ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§. <code class="language-plaintext highlighter-rouge">swarm init</code>Î™ÖÎ†πÏñ¥Î•º Ïã§ÌñâÌïòÎ©¥ ÏπúÏ†àÌïòÍ≤å ÏõåÏª§ ÎÖ∏ÎìúÏóêÏÑú Ïã§ÌñâÌï† Î™ÖÎ†πÏñ¥Î•º ÏïåÎ†§Ï§çÎãàÎã§. <del>ÏπúÏ†àÌïúÎèÑÏª§Ïî®</del> Î™ÖÎ†πÏñ¥Î•º Í∑∏ÎåÄÎ°ú Î≥µÏÇ¨ÌïòÏó¨ 2, 3Î≤à ÏÑúÎ≤ÑÏóêÏÑú Í∞ÅÍ∞Å Ïã§ÌñâÌï©ÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code"><pre><span class="c"># vagrant ssh core-02</span>
docker swarm <span class="nb">join</span> <span class="se">\</span>
    <span class="nt">--token</span> SWMTKN-1-1la23f7y6y8joqxz27hac4j79yffyixcp15tjtlrnei14wwd1t-5tlmx4q9fm46drjzzd95g1l4q <span class="se">\</span>
    172.17.8.101:2377
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>This node joined a swarm as a worker.
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>ÏõåÏª§ ÎÖ∏ÎìúÍ∞Ä Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÎßåÎì§Ïñ¥Ï°åÎäîÏßÄ Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÏóêÏÑú ÌôïÏù∏Ìï©ÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>docker node <span class="nb">ls</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code"><pre>ID                           HOSTNAME  STATUS  AVAILABILITY  MANAGER STATUS
gjm2fxwcx29ha4rfzkw3zskvt <span class="k">*</span>  core-01   Ready   Active        Leader
mu6l92w2dzjmsbucvar1bl9mg    core-03   Ready   Active
q5pa26ik11g9surws03quvrsk    core-02   Ready   Active
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>Î™ÖÎ†πÏñ¥ 3Ï§ÑÎ°ú ÌÅ¥Îü¨Ïä§ÌÑ∞Í∞Ä ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§. ÎèÑÏª§ Ïô∏Ïóê ÏïÑÎ¨¥Í≤ÉÎèÑ ÏÑ§ÏπòÌïòÏßÄ ÏïäÏïòÍ≥† Ïñ¥Îñ§ agentÎèÑ Ïã§ÌñâÌïòÏßÄ ÏïäÏïòÏäµÎãàÎã§. Ïù¥Î†áÍ≤å ÏâΩÍ≤å ÏÉùÏÑ±ÎêòÎäî ÌÅ¥Îü¨Ïä§ÌÑ∞ Î≥¥ÏÖ®ÎÇòÏöî?</p>

<blockquote>
  <p>Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÍ∞Ä Í¥ÄÎ¶¨ÌïòÎäî Ï†ïÎ≥¥Îäî  <code class="language-plaintext highlighter-rouge">/var/lib/docker/swarm</code>Ïóê Ï†ÄÏû•Îê©ÎãàÎã§.</p>
</blockquote>

<div class="asciinema-player-section">
<asciinema-player src="https://subicura.com/assets/asciinema/2017-02-25-container-orchestration-with-docker-swarm/swarm-cluster.json" poster="npt:0:15" speed="2" theme="snazzy"></asciinema-player><figcaption>init swarm cluster</figcaption>
</div>

<h3 id="Í∏∞Î≥∏-Ïõπ-Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò">
<a class="anchor" href="#%EA%B8%B0%EB%B3%B8-%EC%9B%B9-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98" aria-hidden="true"><span class="octicon octicon-link"></span></a>Í∏∞Î≥∏ Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò</h3>

<p>ÌÅ¥Îü¨Ïä§ÌÑ∞Í∞Ä ÏÉùÏÑ±ÎêòÏóàÏúºÎãà Í∞ÑÎã®Ìïú Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò ÏÑúÎπÑÏä§Î•º ÏÉùÏÑ±Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<p>ÏÑúÎπÑÏä§Î•º ÏÉùÏÑ±ÌïòÎ†§Î©¥ <code class="language-plaintext highlighter-rouge">service create</code>Î™ÖÎ†πÏñ¥Î•º Ïù¥Ïö©Ìï©ÎãàÎã§. <code class="language-plaintext highlighter-rouge">run</code>Î™ÖÎ†πÏñ¥ÏôÄ ÏïÑÏ£º Ïú†ÏÇ¨Ìï©ÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
</pre></td>
<td class="code"><pre>docker service create <span class="nt">--name</span> <span class="nb">whoami</span> <span class="se">\</span>
  <span class="nt">-p</span> 4567:4567 <span class="se">\</span>
  subicura/whoami:1
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>beepr6q5kdm724vdvgmb2awxg
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">subicura/whoami:1</code> Ïù¥ÎØ∏ÏßÄÎäî ÏÑúÎ≤ÑÏùò hostnameÏùÑ Ï∂úÎ†•ÌïòÎäî Îã®ÏàúÌïú Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏûÖÎãàÎã§. ÏÑúÎπÑÏä§Ïùò Ïù¥Î¶ÑÏùÑ <code class="language-plaintext highlighter-rouge">whoami</code> Î°ú ÏßÄÏ†ïÌñàÍ≥† 4567 Ìè¨Ìä∏Î•º Ïò§ÌîàÌïòÏòÄÏäµÎãàÎã§.</p>

<p>ÏÑúÎπÑÏä§Í∞Ä Ïûò ÏÉùÏÑ±ÎêòÏóàÎäîÏßÄ <code class="language-plaintext highlighter-rouge">service ls</code>Î™ÖÎ†πÏñ¥Î°ú ÌôïÏù∏Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>docker service <span class="nb">ls</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="code"><pre>ID            NAME    MODE        REPLICAS  IMAGE                               
beepr6q5kdm7  <span class="nb">whoami  </span>replicated  0/1       subicura/whoami:1 
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">whoami</code>ÎùºÎäî ÏÑúÎπÑÏä§Í∞Ä Î≥¥ÏûÖÎãàÎã§. ÏïÑÏßÅ Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä ÏÉùÏÑ±ÎêòÏßÄ ÏïäÏïÑ REPLICAS ÏÉÅÌÉúÍ∞Ä <code class="language-plaintext highlighter-rouge">0/1</code>ÏûÖÎãàÎã§. Ï¢Ä Îçî ÏÉÅÏÑ∏Ìïú ÏÉÅÌÉúÎ•º ÌôïÏù∏ÌïòÍ∏∞ ÏúÑÌï¥ <code class="language-plaintext highlighter-rouge">service ps</code>Î™ÖÎ†πÏñ¥Î•º ÏûÖÎ†•Ìï©ÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>docker service ps <span class="nb">whoami</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="code"><pre>ID            NAME      IMAGE              NODE     DESIRED STATE  CURRENT STATE            ERROR  PORTS
wnt5m97ci36t  whoami.1  subicura/whoami:1  core-01  Running        Preparing 7 seconds ago
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>ÏÑúÎπÑÏä§Ïùò ÏÉÅÌÉúÏôÄ Ïñ¥Îñ§ ÎÖ∏ÎìúÏóêÏÑú Ïã§Ìñâ Ï§ëÏù∏ÏßÄÎ•º ÏÉÅÏÑ∏ÌïòÍ≤å ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§. ÌòÑÏû¨ ÏÉÅÌÉúÍ∞Ä <code class="language-plaintext highlighter-rouge">Preparing</code>Ïù∏Í±∏ Î≥¥Îãà Ïù¥ÎØ∏ÏßÄÎ•º Îã§Ïö¥ Î∞õÎäî Ï§ëÏù∏ Í≤É Í∞ôÏäµÎãàÎã§. Ï°∞Í∏àÎßå Í∏∞Îã§Î¶¨Í≥† Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä Ïã§ÌñâÎêòÎ©¥ ÏÉÅÌÉúÍ∞Ä <code class="language-plaintext highlighter-rouge">Running</code>ÏúºÎ°ú Î∞îÎÄùÎãàÎã§.</p>

<p>Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÏÑúÎπÑÏä§Í∞Ä Ïã§ÌñâÎêòÏóàÎäîÏßÄ HTTP ÏöîÏ≤≠ÏúºÎ°ú ÌÖåÏä§Ìä∏Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code"><pre>curl core-01:4567

<span class="c">#output</span>
cfb152786b87
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>ÏôÄÏö∞! Ï≤´Î≤àÏß∏ ÏÑúÎπÑÏä§Î•º ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÌïòÏòÄÏäµÎãàÎã§.</p>

<p><code class="language-plaintext highlighter-rouge">core-01</code>ÏóêÏÑú ÌÖåÏä§Ìä∏Î•º ÌñàÎäîÎç∞ Îã§Î•∏ ÏÑúÎ≤ÑÎèÑ ÌÖåÏä§Ìä∏Ìï¥Î≥ºÍπåÏöî?</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="code"><pre>curl core-02:4567
curl core-03:4567

<span class="c">#output</span>
cfb152786b87
cfb152786b87
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>Î∂ÑÎ™Ö Ïª®ÌÖåÏù¥ÎÑàÎäî  <code class="language-plaintext highlighter-rouge">core-01</code>ÎÖ∏ÎìúÏóêÏÑú Ïã§ÌñâÏ§ëÏù∏Îç∞ Î™®Îì† ÎÖ∏ÎìúÏóêÏÑú Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÏùëÎãµÌïòÍ≥† ÏûàÏäµÎãàÎã§. Ïñ¥ÎñªÍ≤å ÎêúÏùºÏùºÍπåÏöî?</p>

<div class="asciinema-player-section">
<asciinema-player src="https://subicura.com/assets/asciinema/2017-02-25-container-orchestration-with-docker-swarm/basic-web-application.json" poster="npt:0:15" speed="2" theme="snazzy"></asciinema-player><figcaption>basic web application</figcaption>
</div>

<h3 id="ingress-network">
<a class="anchor" href="#ingress-network" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ingress network</h3>

<p>ÎèÑÏª§ Ïä§ÏõúÏùÄ ÏÑúÎπÑÏä§Î•º Ïô∏Î∂ÄÏóê ÏâΩÍ≤å ÎÖ∏Ï∂úÌïòÍ∏∞ ÏúÑÌï¥ Î™®Îì† ÎÖ∏ÎìúÍ∞Ä <a href="https://docs.docker.com/engine/swarm/ingress/">ingress</a>ÎùºÎäî Í∞ÄÏÉÅ ÎÑ§Ìä∏ÏõåÌÅ¨Ïóê ÏÜçÌï¥ÏûàÏäµÎãàÎã§. ingressÎäî routing meshÎùºÎäî Ïû¨ÎØ∏ÏûàÎäî Í∞úÎÖêÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÎäîÎç∞ Ïù¥ Í∞úÎÖêÏùÄ ÏÑúÎπÑÏä§Í∞Ä Ìè¨Ìä∏Î•º Ïò§ÌîàÌï† Í≤ΩÏö∞ Î™®Ïò§Ïò§Îì† ÎÖ∏ÎìúÏóê Ìè¨Ìä∏Í∞Ä Ïò§ÌîàÎêòÍ≥† Ïñ¥Îñ§ ÎÖ∏ÎìúÏóê ÏöîÏ≤≠ÏùÑ Î≥¥ÎÇ¥ÎèÑ Ïã§Ìñâ Ï§ëÏù∏ Ïª®ÌÖåÏù¥ÎÑàÏóê ÏûêÎèôÏúºÎ°ú Ï†ÑÎã¨Ìï¥Ï§çÎãàÎã§.</p>

<blockquote>
  <p>IngressÎäî (Ïñ¥Îñ§ Ïû•ÏÜåÏóê) Îì§Ïñ¥Í∞ê, ÏûÖÏû•Ïù¥ÎùºÎäî ÎúªÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§.</p>
</blockquote>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/ingress-network.png" alt="ingress network"></p>

<p>ÏúÑÏùò ÏòàÏ†úÏóêÏÑúÎäî 4567 Ìè¨Ìä∏Î•º Ïò§ÌîàÌñàÍ∏∞ ÎïåÎ¨∏Ïóê 3Í∞úÏùò ÎÖ∏Îìú Ï†ÑÏ≤¥Ïóê 4567 Ìè¨Ìä∏Í∞Ä Ïò§ÌîàÎêòÏóàÍ≥† Ïñ¥ÎîîÏóêÏÑú ÌÖåÏä§Ìä∏Î•º ÌïòÎì† Í∞ÑÏóê core-01ÎÖ∏ÎìúÏóê Ïã§ÌñâÎêú Ïª®ÌÖåÏù¥ÎÑàÎ°ú ÏöîÏ≤≠Ïù¥ Ï†ÑÎã¨Îê©ÎãàÎã§. Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä Ïó¨Îü¨ Í∞úÎùºÎ©¥ ÎÇ¥Î∂Ä Î°úÎìúÎ∞∏Îü∞ÏÑúÎ•º Ïù¥Ïö©ÌïòÏó¨ Ïó¨Îü¨ Í∞úÏùò Ïª®ÌÖåÏù¥ÎÑàÎ°ú Î∂ÑÏÇ∞Ï≤òÎ¶¨Îê©ÎãàÎã§.</p>

<p>Î≠îÍ∞Ä Ïñ¥ÏÉâÌïú Í∞úÎÖêÏù¥ÎùºÍ≥† ÏÉùÍ∞ÅÌï† Ïàò ÏûàÏßÄÎßå, Ïñ¥Îäê ÏÑúÎ≤ÑÏóê Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä Ïã§Ìñâ Ï§ëÏù∏ÏßÄ Ïïå ÌïÑÏöî ÏóÜÏù¥ Ïô∏Î∂ÄÏóêÏÑú Í∑∏ Ïñ¥Îñ§ Î∞©Î≤ïÎ≥¥Îã§ ÏâΩÍ≤å Ï†ëÍ∑ºÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<blockquote>
  <p>Ïã§Ï†ú Ïö¥ÏòÅÏãúÏóêÎäî Ïô∏Î∂ÄÏóê nginx ÎòêÎäî haproxyÍ∞ôÏùÄ Î°úÎìúÎ∞úÎûÄÏÑúÎ•º ÎëêÍ≥† Ï†ÑÏ≤¥ Ïä§Ïõú ÎÖ∏ÎìúÎ•º Î∞îÎùºÎ≥¥Í≤å ÏÑ§Ï†ïÌï† Ïàò ÏûàÏäµÎãàÎã§. <a href="https://docs.docker.com/engine/swarm/ingress/#/configure-an-external-load-balancer">Í¥ÄÎ†®ÎßÅÌÅ¨</a></p>
</blockquote>

<h3 id="ÏÑúÎπÑÏä§-Î≥µÏ†ú-replication">
<a class="anchor" href="#%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%B3%B5%EC%A0%9C-replication" aria-hidden="true"><span class="octicon octicon-link"></span></a>ÏÑúÎπÑÏä§ Î≥µÏ†ú replication</h3>

<p>ÏïûÏóêÏÑú ÏÉùÏÑ±Ìïú Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏóê Î∂ÄÌïòÍ∞Ä Î∞úÏÉùÌñàÎã§Í≥† Í∞ÄÏ†ïÌïòÍ≥† Ïª®ÌÖåÏù¥ÎÑàÎ•º 5Í∞úÎ°ú ÎäòÎ†§Î≥¥Í≤†ÏäµÎãàÎã§. ÎÖ∏ÎìúÍ∞Ä 3Í∞úÏù∏Îç∞ Ïª®ÌÖåÏù¥ÎÑàÎ•º 5Í∞úÎ°ú ÎäòÎ¶¨Î©¥ ÏÑúÎ≤Ñ Ìïú Í∞úÏóê 2Í∞úÏùò Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä ÏÉùÏÑ±Îê©ÎãàÎã§. Ïñ¥Ï∞®Ìîº Í∞ÅÍ∞ÅÏùÄ ÎèÖÎ¶ΩÎêú Ïª®ÌÖåÏù¥ÎÑàÏù¥Í∏∞ ÎïåÎ¨∏Ïóê Ïó¨Îü¨ Í∞úÎ•º ÏÉùÏÑ±Ìï¥ÎèÑ ÏÉÅÍ¥ÄÏóÜÍ≥† ingress ÎÑ§Ìä∏ÏõåÌÅ¨Í∞Ä ÏïåÏïÑÏÑú ÏöîÏ≤≠ÏùÑ Î∂ÑÏÇ∞Ï≤òÎ¶¨Ìï¥Ï§çÎãàÎã§.</p>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/replication.png" alt="service replication"></p>

<p><code class="language-plaintext highlighter-rouge">service scale</code>Î™ÖÎ†πÏñ¥Î•º Ïù¥Ïö©ÌïòÏó¨ ÏÑúÎπÑÏä§ Í∞úÏàòÎ•º ÎäòÎ†§Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>docker service scale <span class="nb">whoami</span><span class="o">=</span>5
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre><span class="nb">whoami </span>scaled to 5 
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">serivice ps</code>Î™ÖÎ†πÏñ¥Î•º Ïù¥Ïö©ÌïòÏó¨ ÏÉÅÌÉúÎ•º ÌôïÏù∏Ìï©ÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>docker service ps <span class="nb">whoami</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="code"><pre>ID            NAME      IMAGE              NODE     DESIRED STATE  CURRENT STATE            ERROR  PORTS
z5mcfb0lcizi  whoami.1  subicura/whoami:1  core-01  Running        Running 11 minutes ago
nwkduapf1kvk  whoami.2  subicura/whoami:1  core-03  Running        Preparing 4 seconds ago
vhxmipcdht6c  whoami.3  subicura/whoami:1  core-03  Running        Preparing 4 seconds ago
mntns383mnhz  whoami.4  subicura/whoami:1  core-01  Running        Running 4 seconds ago
xga086cubnj3  whoami.5  subicura/whoami:1  core-02  Running        Preparing 4 seconds ago
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>Ï≤òÏùå Ïª®ÌÖåÏù¥ÎÑàÎ•º ÏÉùÏÑ±ÌïòÎäî ÎÖ∏ÎìúÏóêÏÑú Ïù¥ÎØ∏ÏßÄÎ•º Îã§Ïö¥Î∞õÎäîÎèôÏïà PendingÏù∏ ÏÉÅÌÉúÍ∞Ä Î≥¥Ïù¥Í≥† Ï°∞Í∏à Í∏∞Îã§Î¶¨Î©¥ Î™®Îëê Ïã§ÌñâÎê©ÎãàÎã§. Ïù¥Ï†ú ÌÖåÏä§Ìä∏Ìï¥Î≥ºÍπåÏöî?</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td>
<td class="code"><pre>curl core-01:4567
curl core-01:4567
curl core-01:4567
curl core-01:4567
curl core-01:4567
curl core-01:4567

<span class="c">#output</span>
7590556fb196
7d5e26679eb8
a2c04acee702
88498091561a
e970ff9ed9c6
7590556fb196
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>5Í∞úÏùò Ïª®ÌÖåÏù¥ÎÑàÏóê ÏïÑÏ£º Ïù¥ÏÅòÍ≤å ÏöîÏ≤≠Ïù¥ Î∂ÑÏÇ∞ÎêòÏóàÏäµÎãàÎã§. ÏïÑÎ¨¥Îü∞ ÏÑ§Ï†ï ÏóÜÏù¥ ingress ÎÑ§Ìä∏ÏõåÌÅ¨Í∞Ä ÏïåÏïÑÏÑú Î°úÎìú Î∞∏Îü∞ÏÑú Ïó≠Ìï†ÏùÑ Ìï¥Ï£ºÍ≥† ÏûàÏäµÎãàÎã§. NginxÎÇò haproxyÍ∞ôÏùÄ ÏÑ§Ï†ïÏù¥ ÌïÑÏöî ÏóÜÏäµÎãàÎã§. ÎÑàÎ¨¥ Ìé∏ÌïòÏßÄ ÏïäÎÇòÏöî?</p>

<div class="asciinema-player-section">
<asciinema-player src="https://subicura.com/assets/asciinema/2017-02-25-container-orchestration-with-docker-swarm/replication.json" poster="npt:0:15" speed="2" theme="snazzy"></asciinema-player><figcaption>replication</figcaption>
</div>

<h3 id="healthcheck">
<a class="anchor" href="#healthcheck" aria-hidden="true"><span class="octicon octicon-link"></span></a>HEALTHCHECK</h3>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/healthcheck.png" alt="container running status"></p>

<p>Ïä§ÏõúÏùÄ Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä Ïã§ÌñâÎêòÎ©¥ ingressÏóêÏÑú Ìï¥Îãπ Ïª®ÌÖåÏù¥ÎÑàÎ°ú ÏöîÏ≤≠ÏùÑ Î≥¥ÎÇ¥Í∏∞ ÏãúÏûëÌïòÎäîÎç∞ Ïõπ ÏÑúÎ≤ÑÍ∞Ä Î∂ÄÌåÖÎêòÎäî ÎèôÏïà Î¨∏Ï†úÍ∞Ä ÏûàÏäµÎãàÎã§. Î∞îÎ°ú ÏúÑÏóê ÏãúÏó∞ Î¶¨ÌîåÎ†àÏù¥Î•º Î≥¥Î©¥ curl ÌÖåÏä§Ìä∏Î•º ÌïòÎäî ÎèÑÏ§ë ÏóêÎü¨Í∞Ä Î∞úÏÉùÌïòÎäî Í±∏ ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§. ingressÎäî Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä Ïã§ÌñâÎêòÎ©¥ ÏöîÏ≤≠ÏùÑ Î≥¥ÎÇ¥Í∏∞ ÎïåÎ¨∏Ïóê Î¨∏Ï†úÍ∞Ä ÏóÜÏùÑÍ±∞ÎùºÍ≥† ÏÉùÍ∞ÅÌï† Ïàò ÏûàÏßÄÎßå Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä Ïã§ÌñâÎêòÍ≥† Ïõπ ÏÑúÎ≤ÑÍ∞Ä ÏôÑÏ†ÑÌûà Ïã§ÌñâÎêòÍ∏∞ Ï†ÑÏóê ÏöîÏ≤≠ÏùÑ Î≥¥ÎÇ¥Î©¥ ÏÑúÎ≤ÑÎ•º Ï∞æÏùÑ Ïàò ÏóÜÎã§Îäî Î©îÏãúÏßÄÎ•º Î≥º Ïàò ÏûàÍ≥† Ïù¥Îü¨Ìïú Î¨∏Ï†úÎ•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ Ï¢Ä Îçî ÏûêÏÑ∏Ìïú ÏÉÅÌÉú Ï≤¥ÌÅ¨ Î∞©ÏãùÏù¥ ÌïÑÏöîÌïòÍ≤å ÎêòÏóàÏäµÎãàÎã§.</p>

<p>ÎèÑÏª§ 1.12Î≤ÑÏ†ÑÏóêÏÑú  <code class="language-plaintext highlighter-rouge">HEALTHCHECK</code>Î™ÖÎ†πÏñ¥Í∞Ä Ï∂îÍ∞ÄÎêòÏóàÍ≥† Ïâò Ïä§ÌÅ¨Î¶ΩÌä∏Î•º ÏûëÏÑ±ÌïòÏó¨ Ï¢Ä Îçî Ï†ïÌôïÌïú ÏÉÅÌÉúÎ•º Ï≤¥ÌÅ¨ Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<noscript><pre>FROM ruby:2.3-alpine
MAINTAINER subicura@subicura.com
COPY Gemfile* /usr/src/app/
WORKDIR /usr/src/app
RUN bundle install
COPY . /usr/src/app
EXPOSE 4567
HEALTHCHECK --interval=10s CMD wget -qO- localhost:4567
CMD bundle exec ruby app.rb -o 0.0.0.0</pre></noscript>
<script src="https://gist.github.com/subicura/57557d89ebc64005988e260515413b2a.js"> </script>

<p>ÏïÑÏ£º ÏùµÏàôÌïú ÎèÑÏª§ÌååÏùºÏÉòÌîåÏóê HEALTHCHECK Î™ÖÎ†πÏñ¥Î•º Ï∂îÍ∞ÄÌñàÏäµÎãàÎã§. HEALTHCHECK Î∂ÄÎ∂ÑÏùÑ Î≥¥Î©¥ 10Ï¥àÎßàÎã§ wgetÏùÑ Ïù¥Ïö©ÌïòÏó¨ 4567 Ìè¨Ìä∏Î•º Ï≤¥ÌÅ¨ÌïòÎäî Í±∏ Î≥º Ïàò ÏûàÏäµÎãàÎã§. Ïä§ÌÅ¨Î¶ΩÌä∏(wget)Í∞Ä 0ÏùÑ Î¶¨ÌÑ¥ÌïòÎ©¥ Ï†ïÏÉÅÏù¥ÎùºÍ≥† ÌåêÎã®ÌïòÍ≥† Í∑∏ÎïåÏÑúÏïº ÏöîÏ≤≠ÏùÑ Î≥¥ÎÇ¥Í≤å Îê©ÎãàÎã§.</p>

<p>Ï≤òÏùå ÌÖåÏä§Ìä∏Î°ú ÏÉùÏÑ±Ìïú ÏÑúÎπÑÏä§Î•º <code class="language-plaintext highlighter-rouge">subicura/whoami:2</code>Ïù¥ÎØ∏ÏßÄÎ°ú ÏóÖÎç∞Ïù¥Ìä∏ Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§. Î≤ÑÏ†Ñ 1Í≥º Ï∞®Ïù¥Ï†êÏùÄ HEALTHCHECK Ïú†Î¨¥ÏûÖÎãàÎã§. HEALTHCHECK ÏòµÏÖòÏù¥ ÏóÜÎã§Î©¥ ÏóÖÎç∞Ïù¥Ìä∏ÌïòÎäî ÎèôÏïà ÏàúÍ∞ÑÏ†ÅÏúºÎ°ú ÏóêÎü¨Í∞Ä Î∞úÏÉùÌï† Ïàò ÏûàÎäîÎç∞ Í∑∏Îü∞ Î¨∏Ï†úÎ•º Î∞©ÏßÄÌï¥ Ï§çÎãàÎã§.</p>

<p><code class="language-plaintext highlighter-rouge">service update</code>Î™ÖÎ†πÏñ¥Î•º Ïù¥Ïö©ÌïòÏó¨ ÏÑúÎπÑÏä§Î•º ÏóÖÎç∞Ïù¥Ìä∏Ìï©ÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
</pre></td>
<td class="code"><pre>docker service update <span class="se">\</span>
<span class="nt">--image</span> subicura/whoami:2 <span class="se">\</span>
<span class="nb">whoami</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre><span class="nb">whoami </span>scaled to 5
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">service ps</code>Î™ÖÎ†πÏñ¥Î°ú ÏóÖÎç∞Ïù¥Ìä∏ ÏÉÅÌÉúÎ•º ÌôïÏù∏Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>docker service ps <span class="nb">whoami</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td>
<td class="code"><pre>ID            NAME          IMAGE              NODE     DESIRED STATE  CURRENT STATE           ERROR  PORTS
kv2jddl0bsfw  whoami.1      subicura/whoami:2  core-01  Ready          Ready 2 seconds ago
z5mcfb0lcizi   <span class="se">\_</span> whoami.1  subicura/whoami:1  core-01  Shutdown       Running 11 seconds ago
nwkduapf1kvk  whoami.2      subicura/whoami:1  core-03  Running        Running 9 minutes ago
vhxmipcdht6c  whoami.3      subicura/whoami:1  core-03  Running        Running 9 minutes ago
mntns383mnhz  whoami.4      subicura/whoami:1  core-01  Running        Running 11 minutes ago
xga086cubnj3  whoami.5      subicura/whoami:1  core-02  Running        Running 9 minutes ago
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>ÌïòÎÇòÏî© ÌïòÎÇòÏî© Ïù¥ÏÅòÍ≤å ÏóÖÎç∞Ïù¥Ìä∏ÎêòÎäî Í≥ºÏ†ïÏùÑ Î≥º Ïàò ÏûàÍ≥† Ï†ëÏÜç ÌÖåÏä§Ìä∏Î•º ÌïòÎ©¥ Î¨∏Ï†ú ÏóÜÏù¥ ÏóÖÎç∞Ïù¥Ìä∏ÎêòÎäîÍ±∏ ÌôïÏù∏ Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<div class="asciinema-player-section">
<asciinema-player src="https://subicura.com/assets/asciinema/2017-02-25-container-orchestration-with-docker-swarm/healthcheck.json" poster="npt:0:15" speed="2" theme="snazzy"></asciinema-player><figcaption>service update</figcaption>
</div>

<h3 id="Î∞©Î¨∏ÏûêÏàò-Ï≤¥ÌÅ¨-Ïõπ-Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò">
<a class="anchor" href="#%EB%B0%A9%EB%AC%B8%EC%9E%90%EC%88%98-%EC%B2%B4%ED%81%AC-%EC%9B%B9-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98" aria-hidden="true"><span class="octicon octicon-link"></span></a>Î∞©Î¨∏ÏûêÏàò Ï≤¥ÌÅ¨ Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò</h3>

<p>ÏïÑÏ£ºÏïÑÏ£º Í∞ÑÎã®Ìïú Ïã§ÏäµÏóê Ïù¥Ïñ¥ Ï°∞Í∏à Î≥µÏû°Ìïú Íµ¨ÏÑ±ÏùÑ ÏÇ¥Ìé¥Î¥ÖÎãàÎã§. Ïã§Ï†ú ÏÑ∏ÏÉÅÏóêÏÑúÎäî Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏù¥ ÌòºÏûê Ïã§ÌñâÎêòÎäî Í≤ΩÏö∞Í∞Ä Í±∞Ïùò ÏóÜÏ£†. redisÏôÄ Ìï®Íªò Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùÑ Ïã§ÌñâÌïòÍ≥† ÏÑúÎ≤ÑÏóê Ï†ëÏÜçÌï† ÎïåÎßàÎã§ Ïπ¥Ïö¥Ìä∏Î•º +1 ÌïòÎäî ÏÑúÎπÑÏä§Î•º ÎßåÎì§Ïñ¥ Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<p>Î®ºÏ†Ä, Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÍ≥º redisÍ∞Ä ÌÜµÏã†Ìï† Ïàò ÏûàÎäî Ïò§Î≤ÑÎ†àÏù¥ ÎÑ§Ìä∏ÏõåÌÅ¨Î•º ÎßåÎì≠ÎãàÎã§. Ïò§Î≤ÑÎ†àÏù¥ ÎÑ§Ìä∏ÏõåÌÅ¨Î•º ÏÇ¨Ïö©ÌïòÎ©¥ redisÎäî Ïô∏Î∂ÄÏóê Ìè¨Ìä∏Î•º Ïò§ÌîàÌïòÏßÄ ÏïäÏïÑÎèÑ ÎêòÍ≥† Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÍ≥º Îã§Î•∏ ÎÖ∏ÎìúÏóê ÏûàÏñ¥ÎèÑ Í∞ôÏùÄ ÏÑúÎ≤ÑÏóê ÏûàÎäî Í≤ÉÏ≤òÎüº ÌÜµÏã†Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/overlay-network.png" alt="overlay network"></p>

<p><code class="language-plaintext highlighter-rouge">network create</code>Î™ÖÎ†πÏñ¥Î°ú Ïò§Î≤ÑÎ†àÏù¥ ÎÑ§Ìä∏ÏõåÌÅ¨Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
</pre></td>
<td class="code"><pre>docker network create <span class="nt">--attachable</span> <span class="se">\</span>
  <span class="nt">--driver</span> overlay <span class="se">\</span>
  backend
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>k7ayhk5hqbxnk8zbb959txh6h  
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>Ïûò ÏÉùÏÑ±ÎêòÏóàÎäîÏßÄ <code class="language-plaintext highlighter-rouge">network ls</code>Î™ÖÎ†πÏñ¥Î°ú ÌôïÏù∏Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>docker network <span class="nb">ls</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td>
<td class="code"><pre>NETWORK ID          NAME                DRIVER              SCOPE
k7ayhk5hqbxn        backend             overlay             swarm
c420312e4c9b        bridge              bridge              <span class="nb">local
</span>c3ef285ed639        docker_gwbridge     bridge              <span class="nb">local
</span>244840dc44fd        host                host                <span class="nb">local
</span>4biz947vsmez        ingress             overlay             swarm
f41f0c773519        none                null                <span class="nb">local</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>backendÎùºÎäî Ïù¥Î¶ÑÏùò Ïò§Î≤ÑÎ†àÏù¥ ÎÑ§Ìä∏ÏõåÌÅ¨Í∞Ä ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§. Í∑∏ Ïô∏Ïóê ÎÑ§Ìä∏ÏõåÌÅ¨Îäî Í∏∞Î≥∏ÏúºÎ°ú ÏÉùÏÑ±ÎêòÎäî ÎÑ§Ìä∏ÏõåÌÅ¨Îì§ÏûÖÎãàÎã§. Ïù¥Ï†ú redisÎ•º backendÎÑ§Ìä∏ÏõåÌÅ¨Ïóê ÏÉùÏÑ±ÌïòÍ≤†ÏäµÎãàÎã§.</p>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/overlay-network-redis.png" alt="redis with overlay network"></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
</pre></td>
<td class="code"><pre>docker service create <span class="nt">--name</span> redis <span class="se">\</span>
  <span class="nt">--network</span><span class="o">=</span>backend <span class="se">\</span>
  redis
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>cjqrmjqfvj8zyr7k9skih01g4
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">--network</code> ÏòµÏÖòÏúºÎ°ú Ïñ¥Îäê ÎÑ§Ìä∏ÏõåÌÅ¨Ïóê ÏÜçÌï†ÏßÄ Ï†ïÏùòÌïòÏòÄÏäµÎãàÎã§. backend ÎÑ§Ìä∏ÏõåÌÅ¨Ïóê ÏÜçÌïú redis ÏÑúÎπÑÏä§Îäî Ïô∏Î∂Ä ÎÑ§Ìä∏ÏõåÌÅ¨ÏóêÏÑúÎäî Ï†ëÍ∑ºÌï† Ïàò ÏóÜÍ≥† backend ÎÑ§Ìä∏ÏõåÌÅ¨ ÏÉÅÏóêÏÑú ÏõêÎûò Ìè¨Ìä∏Ïù∏ 6379Î°ú Ï†ëÏÜçÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<p>redis ÏÑúÎπÑÏä§Í∞Ä Ï†úÎåÄÎ°ú ÏÉùÏÑ±ÎêòÏóàÎã§Î©¥ telnetÎ™ÖÎ†πÏñ¥Î°ú ÌÖåÏä§Ìä∏Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td>
<td class="code"><pre>docker run <span class="nt">--rm</span> <span class="nt">-it</span> <span class="se">\</span>
  <span class="nt">--network</span><span class="o">=</span>backend <span class="se">\</span>
  alpine <span class="se">\</span>
  telnet redis 6379

<span class="c"># test</span>
KEYS <span class="k">*</span>
SET hello world
GET hello
DEL hello
QUIT
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>Ïô∏Î∂Ä ÎÑ§Ìä∏ÏõåÌÅ¨ÏóêÏÑúÎäî redis ÏÑúÎ≤ÑÏóê Ï†ëÍ∑ºÌï† Ïàò ÏóÜÏúºÎØÄÎ°ú Ï†ëÏÜç ÌÖåÏä§Ìä∏Ïö© Ïª®ÌÖåÏù¥ÎÑàÎ•º ÏÉùÏÑ±ÌïòÏòÄÏäµÎãàÎã§. <code class="language-plaintext highlighter-rouge">--network</code>ÏòµÏÖòÏúºÎ°ú backend ÎÑ§Ìä∏ÏõåÌÅ¨Ïóê Ï†ëÏÜçÌïòÏòÄÍ≥† redis ÏÑúÎπÑÏä§Ïùò Ïù¥Î¶ÑÏù¥ Í≥ß ÎèÑÎ©îÏù∏Î™ÖÏù¥ÎØÄÎ°ú Î∞îÎ°ú Ï†ëÏÜçÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<blockquote>
  <p>Ïä§ÏõúÏùÄ ÏÑúÎπÑÏä§Í∞Ä Ïã§ÌñâÎêòÎ©¥ ÎÇ¥Î∂Ä DNSÏóê ÏûêÎèôÏúºÎ°ú ÎèÑÎ©îÏù∏ Ï†ïÎ≥¥Î•º Îì±Î°ùÌï©ÎãàÎã§. Îî∞Î°ú IPÎ•º Í¥ÄÎ¶¨Ìï† ÌïÑÏöî ÏóÜÏù¥ ÏÑúÎπÑÏä§Î™ÖÏúºÎ°ú Ï†ëÍ∑ºÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>
</blockquote>

<p>Ïù¥Ï†ú Î∞©Î¨∏Ïûê ÏàòÎ•º Ï≤¥ÌÅ¨ÌïòÎäî Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò ÏÑúÎπÑÏä§Î•º ÏÉùÏÑ±Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/overlay-network-redis-counter.png" alt="web application + redis"></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="code"><pre>docker service create <span class="nt">--name</span> counter <span class="se">\</span>
  <span class="nt">--network</span><span class="o">=</span>backend <span class="se">\</span>
  <span class="nt">--replicas</span> 3 <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">REDIS_HOST</span><span class="o">=</span>redis <span class="se">\</span>
  <span class="nt">-p</span> 4568:4567 <span class="se">\</span>
  subicura/counter
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>nlq75mhritr3hj4tibm8ka9d8
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>redis ÏÑúÎ≤ÑÏôÄ ÌÜµÏã†Ìï¥Ïïº ÌïòÎØÄÎ°ú backend ÎÑ§Ìä∏ÏõåÌÅ¨Î•º ÏßÄÏ†ïÌñàÍ≥† <code class="language-plaintext highlighter-rouge">--replicas</code>ÏòµÏÖòÏùÑ Ïù¥Ïö©ÌïòÏó¨ 3Í∞úÎ•º ÏÉùÏÑ±ÌïòÎèÑÎ°ù ÌñàÏäµÎãàÎã§. Ïô∏Î∂ÄÏùò 4568 Ìè¨Ìä∏Î°ú Ï†ëÍ∑ºÌï† Ïàò ÏûàÎèÑÎ°ù Ìè¨Ìä∏Î•º Ïò§Ìîà ÌñàÍ≥† redis ÏÑúÎ≤ÑÏùò ÎèÑÎ©îÏù∏Î™ÖÏùÑ ÌôòÍ≤ΩÎ≥ÄÏàòÎ°ú Ï†ÑÎã¨ÌñàÏäµÎãàÎã§.</p>

<p>Ïù¥Ï†ú ÌÖåÏä§Ìä∏Ìï¥Î≥ºÍπåÏöî?</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td>
<td class="code"><pre>curl core-01:4568

<span class="c">#output</span>
50bec9ce8874 <span class="o">&gt;</span> 1

curl core-01:4568

<span class="c">#output</span>
50bec9ce8874 <span class="o">&gt;</span> 1
6705a6272a4a <span class="o">&gt;</span> 1

curl core-01:4568

<span class="c">#output</span>
50bec9ce8874 <span class="o">&gt;</span> 1
6705a6272a4a <span class="o">&gt;</span> 1
92b471d0d741 <span class="o">&gt;</span> 1

curl core-01:4568

<span class="c">#output</span>
50bec9ce8874 <span class="o">&gt;</span> 2
6705a6272a4a <span class="o">&gt;</span> 1
92b471d0d741 <span class="o">&gt;</span> 1

curl core-01:4568

<span class="c">#output</span>
50bec9ce8874 <span class="o">&gt;</span> 2
6705a6272a4a <span class="o">&gt;</span> 2
92b471d0d741 <span class="o">&gt;</span> 1

curl core-01:4568

<span class="c">#output</span>
50bec9ce8874 <span class="o">&gt;</span> 2
6705a6272a4a <span class="o">&gt;</span> 2
92b471d0d741 <span class="o">&gt;</span> 2
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò ÏÑúÎ≤ÑÏôÄ redisÍ∞Ä backendÏò§Î≤ÑÎ†àÏù¥ ÎÑ§Ìä∏ÏõåÌÅ¨Î•º ÌÜµÌï¥ Ïó∞Í≤∞ÎêòÏóàÍ≥† ingress ÎÑ§Ìä∏ÏõåÌÅ¨Í∞Ä 3Í∞úÏùò Ïõπ Ïª®ÌÖåÏù¥ÎÑàÏóê Ïù¥ÏÅòÍ≤å Î∂ÄÌïòÎ•º Î∂ÑÏÇ∞ÌïòÏòÄÏäµÎãàÎã§.</p>

<p>Ïä§ÏõúÏùÄ ÏÑúÎ°ú ÌÜµÏã†Ïù¥ ÌïÑÏöîÌïú ÏÑúÎπÑÏä§Î•º Í∞ôÏùÄ Ïù¥Î¶ÑÏùò Ïò§Î≤ÑÎ†àÏù¥ ÎÑ§Ìä∏ÏõåÌÅ¨Î°ú Î¨∂Í≥† ÎÇ¥Î∂Ä DNS ÏÑúÎ≤ÑÎ•º Ïù¥Ïö©ÌïòÏó¨ Ï†ëÍ∑ºÌï† Ïàò ÏûàÏäµÎãàÎã§. Ïó¨Îü¨ Í∞úÏùò ÎÑ§Ìä∏ÏõåÌÅ¨Î•º ÏâΩÍ≤å ÎßåÎì§ Ïàò ÏûàÍ≥† ÌïòÎÇòÏùò ÏÑúÎπÑÏä§Îäî Ïó¨Îü¨ Í∞úÏùò ÎÑ§Ìä∏ÏõåÌÅ¨Ïóê ÏÜçÌï† Ïàò ÏûàÏäµÎãàÎã§. Î™®Îì† Í≤ÉÏùÄ Ïä§ÏõúÏù¥ ÏïåÏïÑÏÑú ÌïòÍ≥† Í¥ÄÎ¶¨ÏûêÎäî ÎÑ§Ìä∏ÏõåÌÅ¨ÏôÄ ÏÑúÎπÑÏä§Îßå Ïûò ÎßåÎì§Î©¥ Îê©ÎãàÎã§.</p>

<blockquote>
  <p>ÎÇ¥Î∂Ä DNSÏóêÏÑú counterÏùò IPÎäî 10.0.0.4Î°ú 3Í∞ú Ïª®ÌÖåÏù¥ÎÑàÏùò Î°úÎìú Î≤®Îü∞ÏÑúÏö© IPÎ•º Í∞ÄÎ¶¨ÌÇ§Í≥† ÏûàÏäµÎãàÎã§. Ïã§Ï†ú Í∞ÅÍ∞ÅÏùò IPÎäî tasks.counterÏùò A RecordÏóê Í∏∞Î°ùÎêòÏñ¥ ÏûàÍ≥† 10.0.0.5~7ÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§.</p>
</blockquote>

<div class="asciinema-player-section">
<asciinema-player src="https://subicura.com/assets/asciinema/2017-02-25-container-orchestration-with-docker-swarm/overlay.json" poster="npt:0:15" speed="2" theme="snazzy"></asciinema-player><figcaption>service with overlay</figcaption>
</div>

<h3 id="ÎπÑÎ∞ÄÌÇ§-Ï°∞Ìöå-Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò">
<a class="anchor" href="#%EB%B9%84%EB%B0%80%ED%82%A4-%EC%A1%B0%ED%9A%8C-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98" aria-hidden="true"><span class="octicon octicon-link"></span></a>ÎπÑÎ∞ÄÌÇ§ Ï°∞Ìöå Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò</h3>

<p>Ïù¥Î≤àÏóêÎäî 1.13Ïóê Ï∂îÍ∞ÄÎêú ÎπÑÎ∞ÄÌÇ§ Í¥ÄÎ¶¨ Í∏∞Îä•ÏùÑ Ïù¥Ïö©Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§. Î®ºÏ†Ä ÎπÑÎ∞ÄÌÇ§Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§. ÌååÏùº ÎòêÎäî ÌååÏù¥ÌîÑÎ•º Ïù¥Ïö©Ìïú stdinÏûÖÎ†•Îßå Í∞ÄÎä•Ìï©ÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre><span class="nb">echo</span> <span class="s2">"this is my password!"</span> | docker secret create my-password -
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>8rsw3eu74xea4q2e8mnhuw6lu
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">my-passsword</code>ÎùºÎäî Ïù¥Î¶ÑÏùò ÎπÑÎ∞ÄÌÇ§Ïóê <code class="language-plaintext highlighter-rouge">this is my password!</code>ÎùºÎäî ÎÇ¥Ïö©ÏùÑ Ï†ÄÏû•ÌïòÏòÄÏäµÎãàÎã§. Ïù¥Ï†ú Ïù¥ ÌÇ§Î•º ÏÇ¨Ïö©Ìï† ÏÑúÎπÑÏä§Î•º ÌïòÎÇò ÏÉùÏÑ±ÌïòÍ≤†ÏäµÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="code"><pre>docker service create <span class="nt">--name</span> secret <span class="se">\</span>
  <span class="nt">--secret</span> my-password <span class="se">\</span>
  <span class="nt">-p</span> 4569:4567 <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">SECRET_PATH</span><span class="o">=</span>/run/secrets/my-password <span class="se">\</span>
  subicura/secret
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>nmyk5647bv4mfneafwhpg7o4t
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">--secret</code>ÏòµÏÖòÏúºÎ°ú Ïñ¥Îñ§ ÌÇ§Î•º ÏÇ¨Ïö©Ìï†ÏßÄ ÏßÄÏ†ïÌïòÎ©¥ <code class="language-plaintext highlighter-rouge">/run/secrest</code>ÎîîÎ†âÌÜ†Î¶¨ Î∞ëÏóê ÌÇ§ Ïù¥Î¶ÑÏùò ÌååÏùºÎ°ú ÎßàÏö¥Ìä∏ Îê©ÎãàÎã§. <code class="language-plaintext highlighter-rouge">subicura/secret</code> Ïù¥ÎØ∏ÏßÄÎäî ÌååÏùºÏùò ÎÇ¥Ïö©ÏùÑ Ï∂úÎ†•Ìï¥Ï£ºÎäî Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏúºÎ°ú 4569Ìè¨Ìä∏Î°ú Ïò§ÌîàÌïòÏòÄÏäµÎãàÎã§.</p>

<p>Ïûò ÎèôÏûëÌïòÎäîÏßÄ ÌÖåÏä§Ìä∏Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>curl core-01:4569
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>output:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>this is my password!
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>ÏïÑÏ£º Ïûò ÎèôÏûëÌï©ÎãàÎã§. ÎèÑÏª§Î•º Ïù¥Ïö©ÌïòÏó¨ ÏÑúÎπÑÏä§Î•º Íµ¨Ï∂ïÌïòÎ©¥ Ìå®Ïä§ÏõåÎìú Ï†ïÎ≥¥Î•º Ïñ¥ÎñªÍ≤å Ìï†ÏßÄ Í≥†ÎØºÏùº ÎïåÍ∞Ä ÏûàÎäîÎç∞ ÏïÑÏ£º Ïú†Ïö©ÌïòÍ≤å ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<div class="asciinema-player-section">
<asciinema-player src="https://subicura.com/assets/asciinema/2017-02-25-container-orchestration-with-docker-swarm/secret.json" poster="npt:0:15" speed="2" theme="snazzy"></asciinema-player><figcaption>docker secre</figcaption>
</div>

<h3 id="traefik-Î¶¨Î≤ÑÏä§-ÌîÑÎ°ùÏãú-ÏÑúÎ≤Ñ">
<a class="anchor" href="#traefik-%EB%A6%AC%EB%B2%84%EC%8A%A4-%ED%94%84%EB%A1%9D%EC%8B%9C-%EC%84%9C%EB%B2%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>Traefik Î¶¨Î≤ÑÏä§ ÌîÑÎ°ùÏãú ÏÑúÎ≤Ñ</h3>

<p>Ïä§ÏõúÏùÄ Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÏóêÏÑú Î™®Îì† ÏÑúÎπÑÏä§Î•º Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÍ≥† ÏÑúÎπÑÏä§Í∞Ä ÏÉùÏÑ±Îêú Í≤ÉÏùÑ Ï≤¥ÌÅ¨ÌïòÎ©¥ Î¨¥Ïñ∏Í∞ÄÎ•º ÏûêÎèôÌôîÌï† Ïàò ÏûàÏäµÎãàÎã§. <a href="https://traefik.io/">Traefik</a>ÏùÄ Ïù¥Îü¨Ìïú ÏïÑÏù¥ÎîîÏñ¥Î•º Ïù¥Ïö©Ìï¥ Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏù¥ ÏÉùÏÑ±ÎêòÎ©¥ ÏûêÎèôÏúºÎ°ú ÎèÑÎ©îÏù∏ÏùÑ ÎßåÎì§Í≥† ÎÇ¥Î∂Ä ÏÑúÎπÑÏä§Î°ú Ïó∞Í≤∞Ìï¥Ï§çÎãàÎã§.</p>

<p>ÏòàÎ•º Îì§Ïñ¥ <code class="language-plaintext highlighter-rouge">whoami</code>ÎùºÎäî ÏÑúÎπÑÏä§Î•º ÎßåÎì§Î©¥ <code class="language-plaintext highlighter-rouge">whoami.local.dev</code>ÎèÑÎ©îÏù∏ÏúºÎ°ú Ï†ëÏÜçÌï† Ïàò ÏûàÍ≤å Ìï¥Ï£ºÍ≥† <code class="language-plaintext highlighter-rouge">counter</code>ÎùºÎäî ÏÑúÎπÑÏä§Î•º ÎßåÎì§Î©¥ <code class="language-plaintext highlighter-rouge">counter.local.dev</code>ÎèÑÎ©îÏù∏ÏúºÎ°ú Ï†ëÏÜçÌï† Ïàò ÏûàÍ≤å Ìï¥Ï§çÎãàÎã§.</p>

<p>ÌÖåÏä§Ìä∏Î•º ÏúÑÌï¥ ÎèÑÎ©îÏù∏ Ï†ïÎ≥¥Î•º <code class="language-plaintext highlighter-rouge">/etc/hosts</code>Ïóê Ï∂îÍ∞ÄÌï©ÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>172.17.8.101 portainer.local.dev counter.local.dev
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>ÌîÑÎ°ùÏãúÎ°ú Ïó∞Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ <code class="language-plaintext highlighter-rouge">frontend</code>ÎùºÎäî ÎÑ§Ìä∏ÏõåÌÅ¨Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>docker network create <span class="nt">--driver</span> overlay frontend
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>Ïù¥Ï†ú <code class="language-plaintext highlighter-rouge">traefik</code>ÏÑúÎπÑÏä§Î•º frontendÎÑ§Ìä∏ÏõåÌÅ¨Ïóê Ïó∞Í≤∞Ìï©ÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td>
<td class="code"><pre>docker service create <span class="nt">--name</span> traefik <span class="se">\</span>
  <span class="nt">--constraint</span> <span class="s1">'node.role == manager'</span> <span class="se">\</span>
  <span class="nt">-p</span> 80:80 <span class="se">\</span>
  <span class="nt">-p</span> 8080:8080 <span class="se">\</span>
  <span class="nt">--mount</span> <span class="nb">type</span><span class="o">=</span><span class="nb">bind</span>,source<span class="o">=</span>/var/run/docker.sock,target<span class="o">=</span>/var/run/docker.sock <span class="se">\</span>
  <span class="nt">--network</span> frontend <span class="se">\</span>
  traefik <span class="se">\</span>
  <span class="nt">--docker</span> <span class="se">\</span>
  <span class="nt">--docker</span>.swarmmode <span class="se">\</span>
  <span class="nt">--docker</span>.domain<span class="o">=</span>local.dev <span class="se">\</span>
  <span class="nt">--docker</span>.watch <span class="se">\</span>
  <span class="nt">--web</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">--constraint</code> ÏòµÏÖòÏùÑ Ïù¥Ïö©ÌïòÏó¨ Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÏóêÏÑú Ïã§ÌñâÌïòÍ≤å Î∞∞Ìè¨Î•º Ï†úÌïúÌïòÏòÄÏäµÎãàÎã§. Ïä§Ïõú ÏÑúÎπÑÏä§ Ï†ïÎ≥¥Î•º ÏñªÍ∏∞ ÏúÑÌï¥ÏÑúÎäî Î∞òÎìúÏãú Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÏóêÏÑú Ïã§ÌñâÎêòÏñ¥Ïïº Ìï©ÎãàÎã§. Í∑∏Î¶¨Í≥† <code class="language-plaintext highlighter-rouge">--mount</code> ÏòµÏÖòÏùÑ Ïù¥Ïö©Ìï¥ Ìò∏Ïä§Ìä∏Ïùò ÎèÑÏª§ ÏÜåÏºìÏùÑ ÎßàÏö¥Ìä∏ ÌïòÏòÄÏäµÎãàÎã§. <code class="language-plaintext highlighter-rouge">docker run -v</code> ÏòµÏÖòÍ≥º Ïú†ÏÇ¨ÌïúÎç∞ serviceÎ•º ÎßåÎì§ ÎïåÎäî <code class="language-plaintext highlighter-rouge">--mount</code> ÏòµÏÖòÏùÑ ÏÇ¨Ïö©Ìï©ÎãàÎã§. 80Ìè¨Ìä∏Îäî Ïã§Ï†ú Ïõπ ÏÑúÎπÑÏä§Î•º Ï†úÍ≥µÌïòÍ∏∞ ÏúÑÌï¥ ÏÇ¨Ïö©Ìï† Ìè¨Ìä∏Í≥† 8080ÏùÄ Í¥ÄÎ¶¨ÏûêÏö© Ìè¨Ìä∏ÏûÖÎãàÎã§.</p>

<p>Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄÏóê Ï†ëÏÜçÌï¥Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/traefik.png" alt="traefik dashboard"></p>

<p>Î≠îÍ∞Ä Í∑∏Îü¥Ïã∏Ìïú Í¥ÄÎ¶¨Ïûê ÌôîÎ©¥Ïù¥ Î≥¥ÏûÖÎãàÎã§. ÏïÑÏßÅ ÏïÑÎ¨¥Í≤ÉÎèÑ Ïã§ÌñâÌïòÏßÄ ÏïäÏïÑ ÌúëÌïú Î™®ÏäµÏûÖÎãàÎã§. <a href="http://portainer.io/">portainer</a> Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùÑ Ïã§ÌñâÌïòÏó¨ ÏûêÎèôÏúºÎ°ú Ïó∞Í≤∞Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="code"><pre>docker service create <span class="nt">--name</span> portainer <span class="se">\</span>
  <span class="nt">--network</span><span class="o">=</span>frontend <span class="se">\</span>
  <span class="nt">--label</span> traefik.port<span class="o">=</span>9000 <span class="se">\</span>
  <span class="nt">--constraint</span> <span class="s1">'node.role == manager'</span> <span class="se">\</span>
  <span class="nt">--mount</span> <span class="s2">"type=bind,source=/var/run/docker.sock,target=/var/run/docker.sock"</span> <span class="se">\</span>
  portainer/portainer
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>traefikÍ≥º Ï†ëÏÜçÌï† Ïàò ÏûàÎèÑÎ°ù frontendÎÑ§Ìä∏ÏõåÌÅ¨Ïóê Ïó∞Í≤∞ÌñàÍ≥† <code class="language-plaintext highlighter-rouge">--label</code>ÏòµÏÖòÏúºÎ°ú ÎÇ¥Î∂ÄÏ†ÅÏúºÎ°ú ÏÇ¨Ïö©ÌïòÎäî Ïõπ Ìè¨Ìä∏Î•º ÏïåÎ†§Ï£ºÏóàÏäµÎãàÎã§. traefikÏùÄ <code class="language-plaintext highlighter-rouge">traefik.port</code>ÎùºÎ≤®Ïùò Í∞íÏùÑ ÏùΩÏñ¥ Ìï¥Îãπ Ìè¨Ìä∏Î°ú Î¶¨Î≤ÑÏä§ ÌîÑÎ°ùÏãúÎ•º Ïó∞Í≤∞Ìï©ÎãàÎã§. portainerÎäî Ïä§ÏõúÏùÑ Í¥ÄÎ¶¨Ìï¥Ï£ºÎäî Ìà¥Ïù¥Í∏∞ ÎïåÎ¨∏Ïóê Îß§ÎãàÏ†Ä ÎÖ∏ÎìúÏóê Ïã§ÌñâÌïòÎèÑÎ°ù ÌñàÏäµÎãàÎã§.</p>

<p>ÏÑúÎπÑÏä§ Ïù¥Î¶ÑÏùÑ portainerÎ°ú ÌñàÍ∏∞ ÎïåÎ¨∏Ïóê ÏÑúÎπÑÏä§Í∞Ä Ïã§ÌñâÎêòÎ©¥ traefikÏÑúÎπÑÏä§Í∞Ä ÏûêÎèôÏúºÎ°ú <code class="language-plaintext highlighter-rouge">portainer.local.dev</code>ÎèÑÎ©îÏù∏ Ï†ïÎ≥¥Î•º ÏÉùÏÑ±ÌïòÍ≥† portainerÏª®ÌÖåÏù¥ÎÑàÏùò 9000Î≤à Ìè¨Ìä∏Î°ú Ïó∞Í≤∞Ìï©ÎãàÎã§. ÏÑúÎπÑÏä§Î•º ÏÉùÏÑ±ÌïòÍ≥† Ïû†Ïãú Í∏∞Îã§Î¶¨Î©¥ ÌîÑÎ°ùÏãú ÏÑ§Ï†ïÏù¥ ÏûêÎèôÏúºÎ°ú ÏôÑÎ£åÎê©ÎãàÎã§.</p>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/traefik-portainer.png" alt="traefik dashboard - portainer"></p>

<p>traefik Í¥ÄÎ¶¨Ïûê ÌôîÎ©¥Ïóê portainerÍ∞Ä Îì±Î°ùÎêú Î™®ÏäµÏù¥ Î≥¥ÏûÖÎãàÎã§! Ïù¥Ï†ú Ïã§Ï†úÎ°ú <code class="language-plaintext highlighter-rouge">portainer.local.dev</code>Ïóê Ï†ëÏÜçÌï¥Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/portainer-1.png" alt="portainer dashboard">
<img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/portainer-2.png" alt="portainer services">
<img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/portainer-3.png" alt="portainer swarm"></p>

<p>portainerÎèÑ Ïó≠Ïãú Ï†ëÏÜç ÏÑ±Í≥µÏûÖÎãàÎã§! Ïù¥Ï†ú Ïñ¥Îñ§ ÏÑúÎπÑÏä§ÎèÑ frontendÎÑ§Ìä∏ÏõåÌÅ¨Î•º Ïó∞Í≤∞ÌïòÍ≥† <code class="language-plaintext highlighter-rouge">traefik.port</code> ÎùºÎ≤®Îßå ÏßÄÏ†ïÌïòÎ©¥ ÏûêÎèôÏúºÎ°ú Ïô∏Î∂ÄÏóê ÎÖ∏Ï∂úÎê©ÎãàÎã§. ÎÇ¥ÏπúÍπÄÏóê ÏïÑÍπå ÎßåÎì† <code class="language-plaintext highlighter-rouge">counter</code>ÏÑúÎπÑÏä§ÎèÑ Î∂ôÏó¨Î≥¥Í≤†ÏäµÎãàÎã§.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td>
<td class="code"><pre>docker service <span class="nb">rm </span>counter
docker service create <span class="nt">--name</span> counter <span class="se">\</span>
  <span class="nt">--network</span><span class="o">=</span>frontend <span class="se">\</span>
  <span class="nt">--network</span><span class="o">=</span>backend <span class="se">\</span>
  <span class="nt">--replicas</span> 3 <span class="se">\</span>
  <span class="nt">--label</span> traefik.port<span class="o">=</span>4567 <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">REDIS_HOST</span><span class="o">=</span>redis <span class="se">\</span>
  subicura/counter
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>Í∏∞Ï°¥Ïóê ÏÉùÏÑ±ÎêòÏñ¥ ÏûàÎçò ÏÑúÎπÑÏä§Î•º ÏÇ≠Ï†úÌïòÍ≥† ÏÉàÎ°úÏö¥ ÏòµÏÖòÏúºÎ°ú ÏÑúÎπÑÏä§Î•º ÏÉùÏÑ±ÌïòÏòÄÏäµÎãàÎã§. frontendÏôÄ backend ÎëêÍ∞úÏùò ÎÑ§Ìä∏ÏõåÌÅ¨Ïóê Î™®Îëê ÏÜçÌï¥ÏûàÍ≥† labelÏùÑ Ï£ºÏñ¥ traefikÏóêÏÑú ÏûêÎèôÏúºÎ°ú Ïù∏ÏãùÌï† Ïàò ÏûàÎèÑÎ°ù ÌñàÏäµÎãàÎã§. Ïù¥Ï†ú ÌÖåÏä§Ìä∏Ìï¥Î≥ºÍπåÏöî?</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td>
<td class="code"><pre>curl counter.local.dev

<span class="c"># output</span>

50bec9ce8874 <span class="o">&gt;</span> 2                                                                
5cbd7ecbb5b8 <span class="o">&gt;</span> 1                                                                
6705a6272a4a <span class="o">&gt;</span> 2                                                                
92b471d0d741 <span class="o">&gt;</span> 2 
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/magic.gif" alt="this is magic!"></p>

<p>ÎßàÎ≤ïÍ≥º Í∞ôÏùÄ ÏùºÏù¥ ÏòµÏÖò Î™áÏ§ÑÎ°ú ÏùºÏñ¥ÎÇ¨ÏäµÎãàÎã§. Ïùå.. Ïä§Ïõú Ï†ïÎßê Ï¢ãÏßÄ ÏïäÎÇòÏöî?</p>

<div class="asciinema-player-section">
<asciinema-player src="https://subicura.com/assets/asciinema/2017-02-25-container-orchestration-with-docker-swarm/traefik.json" poster="npt:0:15" speed="2" theme="snazzy"></asciinema-player><figcaption>traefik</figcaption>
</div>

<h3 id="Ïä§Ïõú-ÏÑúÎ≤Ñ-Î™®ÎãàÌÑ∞ÎßÅ">
<a class="anchor" href="#%EC%8A%A4%EC%9B%9C-%EC%84%9C%EB%B2%84-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ïä§Ïõú ÏÑúÎ≤Ñ Î™®ÎãàÌÑ∞ÎßÅ</h3>

<p>Ïä§ÏõúÏùÄ ÏûêÏ≤¥Ï†ÅÏù∏ Î™®ÎãàÌÑ∞ÎßÅ ÏÑúÎπÑÏä§Î•º Ï†úÍ≥µÌïòÏßÄ ÏïäÏäµÎãàÎã§. Îî∞ÎùºÏÑú Ï†ÅÎãπÌïú Ìà¥ÏùÑ ÏÑ†ÌÉùÌïòÏó¨ ÏßÅÏ†ë Ïö¥ÏòÅÌï¥Ïïº Ìï©ÎãàÎã§. <a href="%EF%BF%BChttps://prometheus.io/">prometheus</a>ÏôÄ <a href="%EF%BF%BChttp://grafana.org/">grafana</a>Î•º Ïù¥Ïö©ÌïòÎ©¥ ÏïÑÏ£º Í∑∏Îü¥ÎìØÌïú Î™®ÎãàÌÑ∞ÎßÅ ÏãúÏä§ÌÖúÏùÑ ÎßåÎì§ Ïàò ÏûàÏäµÎãàÎã§. Í≤åÎã§Í∞Ä <code class="language-plaintext highlighter-rouge">docker stack</code>Î™ÖÎ†πÏñ¥Î•º Ïù¥Ïö©ÌïòÎ©¥ Ïó¨Îü¨ Í∞úÏùò ÏÑúÎπÑÏä§Î•º ÏùºÏùºÏù¥ ÏÉùÏÑ±ÌïòÏßÄ ÏïäÍ≥† ÌïòÎÇòÏùò docker-compose ÏÑ§Ï†ï ÌååÏùºÎ°ú Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§. Î™ÖÎ†πÏñ¥ Ìïú Ï§ÑÎ°ú Î™®Îì† ÏÑúÎ≤ÑÏóê Ï†ïÎ≥¥Î•º ÏàòÏßëÌïòÎäî ÏÑúÎπÑÏä§Î•º ÏÉùÏÑ±ÌïòÍ≥† Î™®ÎãàÌÑ∞ÎßÅ Ìà¥ÏùÑ ÏÑ§ÏπòÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>

<p><img src="https://subicura.com/assets/article_images/2017-02-25-container-orchestration-with-docker-swarm/grafana.png" alt="grafana"></p>

<p>Ïä§ÌÅ¨Î¶∞ÏÉ∑Ïù¥ Í∑∏Îü¥ÎìØÌï¥ Î≥¥Ïù¥ÏßÄ ÏïäÎÇòÏöî? Ïù¥Î∂ÄÎ∂ÑÏóê ÎåÄÌïú ÏûêÏÑ∏Ìïú ÎÇ¥Ïö©ÏùÄ prometheusÏôÄ ÎçîÎ∂àÏñ¥ Îã§Ïùå Í∏∞ÌöåÏóê Îî∞Î°ú Ìè¨Ïä§ÌåÖÌïòÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§.</p>

<ul>
  <li><a class="waiting-post">[Ï§ÄÎπÑÏ§ë] ÎèÑÏª§ Ïä§ÏõúÍ≥º prometheusÎ•º Ïù¥Ïö©Ìïú ÏÑúÎ≤Ñ Î™®ÎãàÌÑ∞ÎßÅ</a></li>
</ul>

<h2 id="Í≤∞Î°†-1">
<a class="anchor" href="#%EA%B2%B0%EB%A1%A0-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Í≤∞Î°†</h2>
<p>ÎèÑÏª§ Ïä§ÏõúÏùò ÌïµÏã¨ÎÇ¥Ïö©Ïù∏ ÎÖ∏ÎìúÏôÄ ÏÑúÎπÑÏä§Ïóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥ÏïòÍ≥† ingress ÎÑ§Ìä∏ÏõåÌÅ¨ÏôÄ ÏûêÏ≤¥ ÎÇ¥Ïû•Îêú Î°úÎìúÎ∞∏Îü∞ÏÑú, DNS ÏÑúÎ≤ÑÎ•º ÏÇ¨Ïö©Ìï¥Î¥§ÏäµÎãàÎã§.</p>

<p>ÎèÑÏª§ Ïä§ÏõúÏùÄ Ïñ¥Îñ†Ìïú Ìà¥ÎèÑ Ï∂îÍ∞ÄÏ†ÅÏúºÎ°ú ÏÑ§ÏπòÌï† ÌïÑÏöî ÏóÜÏù¥ ÍµâÏû•Ìûà Í∞ÑÎã®ÌïòÍ≥† Îπ†Î•¥Í≤å ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Íµ¨ÏÑ±Ìï† Ïàò ÏûàÏäµÎãàÎã§. Í∏∞Îä•Ï†ÅÏúºÎ°ú ÏïÑÏâ¨Ïö¥ Î∂ÄÎ∂ÑÏù¥ Ï°∞Í∏à ÏûàÏßÄÎßå ÏûëÏùÄ Í∑úÎ™®ÏóêÏÑú ÏùºÎ∞òÏ†ÅÏù∏ ÏûëÏóÖÏùÑ ÌïòÍ∏∞ÏóêÎäî Î¨¥Î¶¨Í∞Ä ÏóÜÏäµÎãàÎã§. (Ïò§ÌÜ†Ïä§ÏºÄÏùºÎßÅ Í∞ôÏùÄ Í∏∞Îä•ÏùÑ ÎßéÏùÄ Í≥≥ÏóêÏÑú Ïì∞ÏßÑ ÏïäÍ≤†Ï£†)</p>

<p>Í∏∞Ï°¥Ïóê Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÏÖò ÎèÑÏûÖÏùÑ Í∫ºÎ†∏Îçò ÎßéÏùÄ ÏÜåÍ∑úÎ™® Í∞úÎ∞úÌåÄÏóêÏÑúÎäî Ïä§ÏõúÏù¥ ÏïÑÏ£º Îß§Î†•Ï†ÅÏù∏ ÏÑ†ÌÉùÏù¥ Îê† Í≤É Í∞ôÏäµÎãàÎã§.</p>


          <p class="tags">
            
              <a href="/tags#docker-ref">Docker</a>
            
              <a href="/tags#swarm-ref">Swarm</a>
            
              <a href="/tags#devops-ref">DevOps</a>
            
              <a href="/tags#server-ref">Server</a>
            
              <a href="/tags#container-ref">Container</a>
            
              <a href="/tags#cluster-ref">Cluster</a>
            
          </p>
        </section>
        <footer class="post-footer">
          <section class="share">
            <div class="fb-like" data-href="https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div>
            <a data-pocket-label="pocket" data-pocket-count="none" class="pocket-btn" data-lang="ko"></a>
            
              
                <a class="icon-twitter" href="http://twitter.com/share?text=Docker+Swarm%EC%9D%84+%EC%9D%B4%EC%9A%A9%ED%95%9C+%EC%89%BD%EA%B3%A0+%EB%B9%A0%EB%A5%B8+%EB%B6%84%EC%82%B0+%EC%84%9C%EB%B2%84+%EA%B4%80%EB%A6%AC&amp;url=https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm"
                  onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
                <i class="nf nf-fa-twitter"></i><span class="hidden">twitter</span>
                </a>
              
            
              
            
          </section>
        </footer>
        <div class="bottom-teaser cf">
          <div class="isLeft">
            <h5 class="index-headline featured"><span>Written by</span></h5>
            <section class="author">
              <div class="author-image" style="background-image: url(/assets/images/author.jpg)">Blog Logo</div>
              <h4>subicura</h4>
              <p class="bio"></p>
              <hr>
              <p class="published">Published <time datetime="2017-02-25 00:00">25 Feb 2017</time></p>
            </section>
            <footer class="subscribe-info">
                <section class="poweredby">Proudly published with <a href="http://jekyllrb.com"> Jekyll</a></section>
                <a class="subscribe" href="http://bit.ly/2A8Dkav"  target="blank"><img id='feedlyFollow' src='//s3.feedly.com/img/follows/feedly-follow-logo-black_2x.png' alt='follow us in feedly' width='18' height='18'> Feedly Íµ¨ÎèÖÌïòÍ∏∞</a><br />
                <a class="subscribe" href="/feed.xml"> <span class="tooltip"> <i class="nf nf-fa-rss"></i> RSS Íµ¨ÎèÖÌïòÍ∏∞</span></a><br />
                 
                  <a class="subscribe" href="http://eepurl.com/cywDtP" target="_blank"> <span class="tooltip"> <i class="nf nf-oct-mail"></i> Email Íµ¨ÎèÖÌïòÍ∏∞</span></a>
                
            </footer>
          </div>

          <div class="isRight">
            <h5 class="index-headline featured"><span>Supported by</span></h5>
            <div class="googleads">
              
                <!-- Í∏∞Î≥∏ Í¥ëÍ≥† -->
                <ins class="adsbygoogle"
                    style="display:block"
                    data-ad-client="ca-pub-2468713653725581"
                    data-ad-slot="1015072194"
                    data-ad-format="auto"></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
              
            </div>
          </div>
        </div>

         
          
          <div class="utterances-wrapper">
            <script src="https://utteranc.es/client.js"
                    repo="subicura/subicura.github.io"
                    issue-term="pathname"
                    theme="github-light"
                    crossorigin="anonymous"
                    async>
            </script>
          </div>
          

        <a class="fb-comments-toggle">üí¨ ÌéòÏù¥Ïä§Î∂Å ÎåìÍ∏Ä Î≥¥Í∏∞</a>
        <div class="fb-comments-wrapper" style="display:none">
          
            <div class="fb-comments" data-href="https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html" data-num-posts="5" data-order-by="social" data-width="100%"></div>
          
        </div>
        

        
      </article>
    </main>

    <aside class="read-next">
      
        <a class="read-next-story no-cover" href="/2017/11/22/mac-os-development-environment-setup.html">
          <section class="post">
            <h2>Î≥∏Í≤© macOSÏóê Í∞úÎ∞ú ÌôòÍ≤Ω Íµ¨Ï∂ïÌïòÍ∏∞</h2>
            <p>macOSÏóêÏÑú ÌÑ∞ÎØ∏ÎÑêÏùÑ ÏûêÏ£º ÏÇ¨Ïö©ÌïòÎäî Í∞úÎ∞úÏûêÎ•º ÎåÄÏÉÅÏúºÎ°ú Ïã¨ÌîåÌïòÍ≥† ÍπîÎÅîÌïú ÌÖåÎßà ÏúÑÏ£ºÏùò Í∞úÎ∞ú ÌôòÍ≤ΩÏùÑ ÏÑ§Ï†ïÌïòÎäî Î∞©Î≤ïÏùÑ ÏÜåÍ∞úÌï©ÎãàÎã§....</p>
          </section>
        </a>
      
      
        <a class="read-next-story prev no-cover" href="/2017/02/10/docker-guide-for-beginners-create-image-and-deploy.html">
          <section class="post">
            <h2>Ï¥àÎ≥¥Î•º ÏúÑÌïú ÎèÑÏª§ ÏïàÎÇ¥ÏÑú - Ïù¥ÎØ∏ÏßÄ ÎßåÎì§Í≥† Î∞∞Ìè¨ÌïòÍ∏∞</h2>
            <p>Ïù¥ Í∏ÄÏùÄ Ï¥àÎ≥¥Î•º ÏúÑÌïú ÎèÑÏª§ ÏïàÎÇ¥ÏÑú - ÏÑ§ÏπòÎ∂ÄÌÑ∞ Î∞∞Ìè¨ÍπåÏßÄ ÏãúÎ¶¨Ï¶àÏùò ÎßàÏßÄÎßâ Í∏ÄÏûÖÎãàÎã§. ÏßÄÎÇú Í∏ÄÏóêÏÑú ÎèÑÏª§Î•º...</p>
          </section>
        </a>
      
    </aside>
    <footer class="post-site-footer clearfix">
      <section class="copyright"><a href="/">Subicura's Blog</a> ¬© 2024</section>
    </footer>

    <script src="/assets/js/jquery-3.6.0.min.js"></script>
<!--[if !IE]>
<script src="/assets/js/jquery-1.11.1.min.js"></script>
<![endif]-->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/assets/js/index.js?1720623858029652000"></script>
<script type="text/javascript" src="/assets/js/readingtime.js"></script>
<script>
(function ($) {
  "use strict";
  $(document).ready(function(){

    var $window = $(window),
    $image = $('.post-image-image, .teaserimage-image');

    $window.on('scroll', function() {
      var top = $window.scrollTop();

      if (top < 0 || top > 1500) { return; }
      $image
        .css('transform', 'translate3d(0px, '+top/3+'px, 0px)')
        .css('opacity', 1-Math.max(top/700, 0));
    });
    $window.trigger('scroll');

    var height = $('.article-image').height();
    $('.post-content').css('padding-top', height + 'px');

    $('a[href^="#"]:not([href="#"])').click(function() {
      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
        && location.hostname == this.hostname) {
        var target = $(decodeURIComponent(this.hash));
        target = target.length ? target : $('[name="' + this.hash.slice(1) +'"]');
        if (target.length) {
          $('html,body').animate({ scrollTop: target.offset().top }, 500);
          return false;
        }
      }
    });

    // asciinema Î°úÎî©
    if($('.asciinema-player-section').length) {
      var js = document.createElement("script");
      js.type = "text/javascript";
      js.src = '/assets/js/asciinema-player.js';
      document.body.appendChild(js);
    }

    // fb comment
    $('.fb-comments-toggle').click(function() {
      $('.fb-comments-wrapper').show();
    });
  });
}(jQuery));
</script>

  </body>
</html>
